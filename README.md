# –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ –≥—Ä–∞—Ñ–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –ø–∞–∫–µ—Ç–æ–≤ (–≤–∞—Ä–∏–∞–Ω—Ç 15)

## –û–±—â–µ–µ –æ–ø–∏—Å–∞–Ω–∏–µ

–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –∏ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ –≥—Ä–∞—Ñ–æ–≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –ø–∞–∫–µ—Ç–æ–≤ npm. –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω –Ω–∞ Python —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —Ç–æ–ª—å–∫–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫. –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ä–∞–±–æ—Ç—É –∫–∞–∫ —Å —Ä–µ–∞–ª—å–Ω—ã–º npm registry, —Ç–∞–∫ –∏ —Å —Ç–µ—Å—Ç–æ–≤—ã–º–∏ —Ñ–∞–π–ª–∞–º–∏.

### –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:
- –ê–Ω–∞–ª–∏–∑ –ø—Ä—è–º—ã—Ö –∏ —Ç—Ä–∞–Ω–∑–∏—Ç–∏–≤–Ω—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –ø–∞–∫–µ—Ç–æ–≤
- –ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –≥—Ä–∞—Ñ–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π —Å –ø–æ–º–æ—â—å—é –∞–ª–≥–æ—Ä–∏—Ç–º–∞ DFS
- –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Ü–∏–∫–ª–∏—á–µ—Å–∫–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π  
- –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–∞–∫–µ—Ç–æ–≤ –ø–æ –∑–∞–¥–∞–Ω–Ω–æ–π –ø–æ–¥—Å—Ç—Ä–æ–∫–µ
- –ü–æ–∏—Å–∫ –æ–±—Ä–∞—Ç–Ω—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –≥—Ä–∞—Ñ–æ–≤ –≤ —Ñ–æ—Ä–º–∞—Ç–µ Mermaid –∏ SVG
- –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ —Å –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–º npm registry

### –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏:
- –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Ç–æ–ª—å–∫–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ Python (–±–µ–∑ —Å—Ç–æ—Ä–æ–Ω–Ω–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π)
- –ê–ª–≥–æ—Ä–∏—Ç–º DFS –±–µ–∑ —Ä–µ–∫—É—Ä—Å–∏–∏ –¥–ª—è –æ–±—Ö–æ–¥–∞ –≥—Ä–∞—Ñ–æ–≤
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–∞–±–æ—Ç—ã –≤ —Ä–µ–∞–ª—å–Ω–æ–º –∏ —Ç–µ—Å—Ç–æ–≤–æ–º —Ä–µ–∂–∏–º–∞—Ö
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å–ø–æ—Å–æ–±–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ SVG
- –î–µ—Ç–∞–ª—å–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

## –ö–æ–º–∞–Ω–¥—ã –¥–ª—è —Å–±–æ—Ä–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞ –∏ –∑–∞–ø—É—Å–∫–∞ —Ç–µ—Å—Ç–æ–≤

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ —Å–∏—Å—Ç–µ–º–µ
- **Python 3.6** –∏–ª–∏ –≤—ã—à–µ
- **Docker** (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ SVG) –∏–ª–∏ **Node.js** —Å mermaid-cli

# –≠—Ç–∞–ø 1

### 1. –ò—Å—Ç–æ—á–Ω–∏–∫ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ - –æ–ø—Ü–∏–∏ –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏
```python
def parse_arguments(self):
    """–ü–∞—Ä—Å–∏–Ω–≥ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏"""
    parser = argparse.ArgumentParser(
        description='–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ –≥—Ä–∞—Ñ–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –ø–∞–∫–µ—Ç–æ–≤'
    )
    
    parser.add_argument('--package', type=str, required=True, help='–ò–º—è –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º–æ–≥–æ –ø–∞–∫–µ—Ç–∞')
    parser.add_argument('--repo', type=str, required=True, help='URL-–∞–¥—Ä–µ—Å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è –∏–ª–∏ –ø—É—Ç—å –∫ —Ñ–∞–π–ª—É —Ç–µ—Å—Ç–æ–≤–æ–≥–æ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è')
    parser.add_argument('--test-mode', action='store_true', help='–†–µ–∂–∏–º —Ä–∞–±–æ—Ç—ã —Å —Ç–µ—Å—Ç–æ–≤—ã–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–º')
    parser.add_argument('--output', type=str, default='dependency_graph.svg', help='–ò–º—è —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —Ñ–∞–π–ª–∞ —Å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º –≥—Ä–∞—Ñ–∞')
    parser.add_argument('--filter', type=str, default='', help='–ü–æ–¥—Å—Ç—Ä–æ–∫–∞ –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –ø–∞–∫–µ—Ç–æ–≤')
    
    return parser.parse_args()
```

### 2. –í—Å–µ —Ç—Ä–µ–±—É–µ–º—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É—é—Ç
- `--package` - –∏–º—è –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º–æ–≥–æ –ø–∞–∫–µ—Ç–∞
- `--repo` - URL –∏–ª–∏ –ø—É—Ç—å –∫ —Ñ–∞–π–ª—É
- `--test-mode` - —Ä–µ–∂–∏–º —Ç–µ—Å—Ç–æ–≤–æ–≥–æ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
- `--output` - –∏–º—è —Ñ–∞–π–ª–∞ —Å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º
- `--filter` - –ø–æ–¥—Å—Ç—Ä–æ–∫–∞ –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏

### 3. –í—ã–≤–æ–¥ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –≤ —Ñ–æ—Ä–º–∞—Ç–µ –∫–ª—é—á-–∑–Ω–∞—á–µ–Ω–∏–µ
```python
def print_parameters(self, args):
    """–í—ã–≤–æ–¥ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –≤ —Ñ–æ—Ä–º–∞—Ç–µ –∫–ª—é—á-–∑–Ω–∞—á–µ–Ω–∏–µ"""
    print("=== –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ ===")
    print(f"package: {args.package}")
    print(f"repo: {args.repo}")
    print(f"test-mode: {args.test_mode}")
    print(f"output: {args.output}")
    print(f"filter: {args.filter}")
    print("===============================")
```

### 4. –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –¥–ª—è –≤—Å–µ—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
```python
def validate_arguments(self, args):
    """–í–∞–ª–∏–¥–∞—Ü–∏—è –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏"""
    errors = []
    
    # –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏–º–µ–Ω–∏ –ø–∞–∫–µ—Ç–∞
    if not args.package or not args.package.strip():
        errors.append("–ò–º—è –ø–∞–∫–µ—Ç–∞ –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—É—Å—Ç—ã–º")
        
    # –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
    if not args.repo or not args.repo.strip():
        errors.append("–†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—É—Å—Ç—ã–º")
    elif args.test_mode:
        # –í —Ç–µ—Å—Ç–æ–≤–æ–º —Ä–µ–∂–∏–º–µ –ø—Ä–æ–≤–µ—Ä—è–µ–º —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–∞
        if not os.path.exists(args.repo):
            errors.append(f"–§–∞–π–ª —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç: {args.repo}")
        elif not os.path.isfile(args.repo):
            errors.append(f"–£–∫–∞–∑–∞–Ω–Ω—ã–π –ø—É—Ç—å –Ω–µ —è–≤–ª—è–µ—Ç—Å—è —Ñ–∞–π–ª–æ–º: {args.repo}")
    
    # –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—ã—Ö–æ–¥–Ω–æ–≥–æ —Ñ–∞–π–ª–∞
    if not args.output or not args.output.strip():
        errors.append("–ò–º—è –≤—ã—Ö–æ–¥–Ω–æ–≥–æ —Ñ–∞–π–ª–∞ –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—É—Å—Ç—ã–º")
    else:
        valid_extensions = ['.svg', '.png', '.jpg', '.jpeg']
        if not any(args.output.lower().endswith(ext) for ext in valid_extensions):
            errors.append(f"–ù–µ–ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–π —Ñ–æ—Ä–º–∞—Ç —Ñ–∞–π–ª–∞. –î–æ–ø—É—Å—Ç–∏–º—ã–µ: {', '.join(valid_extensions)}")
    
    return errors
```

## –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π

–°–æ–∑–¥–∞–º —Ç–µ—Å—Ç–æ–≤—ã–π —Ñ–∞–π–ª –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏:
```bash
echo '{"A": {"dependencies": {"B": "^1.0.0", "C": "^2.0.0"}}}' > test_repo.json
```

### –¢–µ—Å—Ç 1: –£—Å–ø–µ—à–Ω—ã–π –∑–∞–ø—É—Å–∫ —Å –≤–∞–ª–∏–¥–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏
```bash
python dependency_visualizer.py --package "react" --repo "https://registry.npmjs.org" --output "graph.svg" --filter "test"
```

**–û–∂–∏–¥–∞–µ–º—ã–π –≤—ã–≤–æ–¥:**
```
=== –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ ===
package: react
repo: https://registry.npmjs.org
test-mode: False
output: graph.svg
filter: test
===============================
–≠—Ç–∞–ø 1 —É—Å–ø–µ—à–Ω–æ –∑–∞–≤–µ—Ä—à–µ–Ω. –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –≤–∞–ª–∏–¥–Ω—ã.
```

### –¢–µ—Å—Ç 2: –£—Å–ø–µ—à–Ω—ã–π –∑–∞–ø—É—Å–∫ –≤ —Ç–µ—Å—Ç–æ–≤–æ–º —Ä–µ–∂–∏–º–µ
```bash
python dependency_visualizer.py --package "A" --repo "test_repo.json" --test-mode --output "graph.svg" --filter "dev"
```

**–û–∂–∏–¥–∞–µ–º—ã–π –≤—ã–≤–æ–¥:**
```
=== –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ ===
package: A
repo: test_repo.json
test-mode: True
output: graph.svg
filter: dev
===============================
–≠—Ç–∞–ø 1 —É—Å–ø–µ—à–Ω–æ –∑–∞–≤–µ—Ä—à–µ–Ω. –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –≤–∞–ª–∏–¥–Ω—ã.
```

### –¢–µ—Å—Ç 3: –û—à–∏–±–∫–∞ - –ø—É—Å—Ç–æ–µ –∏–º—è –ø–∞–∫–µ—Ç–∞
```bash
python dependency_visualizer.py --package "" --repo "https://registry.npmjs.org" --output "graph.svg"
```

**–û–∂–∏–¥–∞–µ–º—ã–π –≤—ã–≤–æ–¥:**
```
–û—à–∏–±–∫–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏:
  - –ò–º—è –ø–∞–∫–µ—Ç–∞ –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—É—Å—Ç—ã–º
```

### –¢–µ—Å—Ç 4: –û—à–∏–±–∫–∞ - –ø—É—Å—Ç–æ–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
```bash
python dependency_visualizer.py --package "react" --repo "" --output "graph.svg"
```

**–û–∂–∏–¥–∞–µ–º—ã–π –≤—ã–≤–æ–¥:**
```
–û—à–∏–±–∫–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏:
  - –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—É—Å—Ç—ã–º
```

### –¢–µ—Å—Ç 5: –û—à–∏–±–∫–∞ - —Ñ–∞–π–ª –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –≤ —Ç–µ—Å—Ç–æ–≤–æ–º —Ä–µ–∂–∏–º–µ
```bash
python dependency_visualizer.py --package "A" --repo "nonexistent.json" --test-mode --output "graph.svg"
```

**–û–∂–∏–¥–∞–µ–º—ã–π –≤—ã–≤–æ–¥:**
```
–û—à–∏–±–∫–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏:
  - –§–∞–π–ª —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç: nonexistent.json
```

### –¢–µ—Å—Ç 6: –û—à–∏–±–∫–∞ - –Ω–µ–ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–π —Ñ–æ—Ä–º–∞—Ç —Ñ–∞–π–ª–∞
```bash
python dependency_visualizer.py --package "react" --repo "https://registry.npmjs.org" --output "graph.txt"
```

**–û–∂–∏–¥–∞–µ–º—ã–π –≤—ã–≤–æ–¥:**
```
–û—à–∏–±–∫–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏:
  - –ù–µ–ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–π —Ñ–æ—Ä–º–∞—Ç —Ñ–∞–π–ª–∞. –î–æ–ø—É—Å—Ç–∏–º—ã–µ: .svg, .png, .jpg, .jpeg
```

### –¢–µ—Å—Ç 7: –û—à–∏–±–∫–∞ - –ø—É—Ç—å –Ω–µ —è–≤–ª—è–µ—Ç—Å—è —Ñ–∞–π–ª–æ–º –≤ —Ç–µ—Å—Ç–æ–≤–æ–º —Ä–µ–∂–∏–º–µ
```bash
mkdir test_dir
python dependency_visualizer.py --package "A" --repo "test_dir" --test-mode --output "graph.svg"
```

**–û–∂–∏–¥–∞–µ–º—ã–π –≤—ã–≤–æ–¥:**
```
–û—à–∏–±–∫–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏:
  - –£–∫–∞–∑–∞–Ω–Ω—ã–π –ø—É—Ç—å –Ω–µ —è–≤–ª—è–µ—Ç—Å—è —Ñ–∞–π–ª–æ–º: test_dir
```

# –≠—Ç–∞–ø 2: –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö

### 1. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ñ–æ—Ä–º–∞—Ç–∞ –ø–∞–∫–µ—Ç–æ–≤ JavaScript (npm)
```python
def fetch_package_info_from_npm(self, package_name):
    """–ü–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø–∞–∫–µ—Ç–µ –∏–∑ npm —Ä–µ–µ—Å—Ç—Ä–∞"""
    url = f"https://registry.npmjs.org/{package_name}"
    
    try:
        with urllib.request.urlopen(url) as response:
            data = json.loads(response.read().decode())
            return data
    except urllib.error.HTTPError as e:
        if e.code == 404:
            raise Exception(f"–ü–∞–∫–µ—Ç '{package_name}' –Ω–µ –Ω–∞–π–¥–µ–Ω –≤ npm —Ä–µ–µ—Å—Ç—Ä–µ")
        else:
            raise Exception(f"–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–ø—Ä–æ—Å–µ –∫ npm —Ä–µ–µ—Å—Ç—Ä—É: {e}")
    except urllib.error.URLError as e:
        raise Exception(f"–û—à–∏–±–∫–∞ —Å–µ—Ç–∏: {e}")
    except json.JSONDecodeError as e:
        raise Exception(f"–û—à–∏–±–∫–∞ –ø–∞—Ä—Å–∏–Ω–≥–∞ JSON –æ—Ç–≤–µ—Ç–∞: {e}")
```

### 2. –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø—Ä—è–º—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è—Ö –∏–∑ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
```python
def get_direct_dependencies(self, package_name, repo_url, test_mode=False):
    """–ü–æ–ª—É—á–µ–Ω–∏–µ –ø—Ä—è–º—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –ø–∞–∫–µ—Ç–∞"""
    if test_mode:
        return self.get_dependencies_from_test_file(package_name, repo_url)
    else:
        return self.get_dependencies_from_npm(package_name)

def get_dependencies_from_test_file(self, package_name, file_path):
    """–ü–æ–ª—É—á–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –∏–∑ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ —Ñ–∞–π–ª–∞"""
    try:
        with open(file_path, 'r', encoding='utf-8') as f:
            data = json.load(f)
    except FileNotFoundError:
        raise Exception(f"–§–∞–π–ª '{file_path}' –Ω–µ –Ω–∞–π–¥–µ–Ω")
    except json.JSONDecodeError as e:
        raise Exception(f"–û—à–∏–±–∫–∞ –ø–∞—Ä—Å–∏–Ω–≥–∞ JSON —Ñ–∞–π–ª–∞: {e}")
    
    # –ò—â–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø–∞–∫–µ—Ç–µ –≤ —Ç–µ—Å—Ç–æ–≤–æ–º —Ñ–∞–π–ª–µ
    if isinstance(data, dict):
        # –ï—Å–ª–∏ —Ñ–∞–π–ª —Å–æ–¥–µ—Ä–∂–∏—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ–± –æ–¥–Ω–æ–º –ø–∞–∫–µ—Ç–µ
        if data.get('name') == package_name or 'dependencies' in data:
            return data.get('dependencies', {})
        # –ï—Å–ª–∏ —Ñ–∞–π–ª —Å–æ–¥–µ—Ä–∂–∏—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –ø–∞–∫–µ—Ç–∞—Ö
        elif package_name in data:
            package_data = data[package_name]
            if isinstance(package_data, dict) and 'dependencies' in package_data:
                return package_data['dependencies']
            elif isinstance(package_data, dict):
                return package_data
    elif isinstance(data, list):
        # –ï—Å–ª–∏ —Ñ–∞–π–ª —Å–æ–¥–µ—Ä–∂–∏—Ç —Å–ø–∏—Å–æ–∫ –ø–∞–∫–µ—Ç–æ–≤
        for package in data:
            if package.get('name') == package_name:
                return package.get('dependencies', {})
    
    raise Exception(f"–ü–∞–∫–µ—Ç '{package_name}' –Ω–µ –Ω–∞–π–¥–µ–Ω –≤ —Ç–µ—Å—Ç–æ–≤–æ–º —Ñ–∞–π–ª–µ")
```

### 3. –í—ã–≤–æ–¥ –ø—Ä—è–º—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –Ω–∞ —ç–∫—Ä–∞–Ω (—Ç–æ–ª—å–∫–æ –¥–ª—è —ç—Ç–æ–≥–æ —ç—Ç–∞–ø–∞)
```python
def print_direct_dependencies(self, package_name, dependencies):
    """–í—ã–≤–æ–¥ –ø—Ä—è–º—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –Ω–∞ —ç–∫—Ä–∞–Ω"""
    if not dependencies:
        print(f"–ü–∞–∫–µ—Ç '{package_name}' –Ω–µ –∏–º–µ–µ—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π")
        return
    
    print(f"–ü—Ä—è–º—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –ø–∞–∫–µ—Ç–∞ '{package_name}':")
    for dep_name, version in dependencies.items():
        print(f"  - {dep_name}: {version}")
```

### 4. –ó–∞–ø—Ä–µ—Ç –Ω–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –º–µ–Ω–µ–¥–∂–µ—Ä–æ–≤ –ø–∞–∫–µ—Ç–æ–≤ –∏ —Å—Ç–æ—Ä–æ–Ω–Ω–∏—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫
- –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Ç–æ–ª—å–∫–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ Python: `urllib.request`, `json`
- –ù–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è npm, yarn –∏–ª–∏ –¥—Ä—É–≥–∏–µ –º–µ–Ω–µ–¥–∂–µ—Ä—ã –ø–∞–∫–µ—Ç–æ–≤
- –ù–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Å—Ç–æ—Ä–æ–Ω–Ω–∏–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –¥–ª—è HTTP-–∑–∞–ø—Ä–æ—Å–æ–≤

## –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π

### –¢–µ—Å—Ç 1: –†–µ–∞–ª—å–Ω—ã–π —Ä–µ–∂–∏–º - Express (—Ä–∞–±–æ—Ç–∞–µ—Ç)
```bash
python dependency_visualizer.py --package "express" --repo "https://registry.npmjs.org" --output "graph.svg"
```

**–û–∂–∏–¥–∞–µ–º—ã–π –≤—ã–≤–æ–¥:**
```
üéØ –ê–Ω–∞–ª–∏–∑ –ø–∞–∫–µ—Ç–∞: express
üîß –†–µ–∂–∏–º: —Ä–µ–∞–ª—å–Ω—ã–π
============================================================
üîç –ê–Ω–∞–ª–∏–∑ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ø–∞–∫–µ—Ç–∞ 'express':
   - –ü–æ–ª—É—á–µ–Ω—ã –¥–∞–Ω–Ω—ã–µ –∏–∑ npm registry
   ‚úÖ –ü–æ—Å–ª–µ–¥–Ω—è—è –≤–µ—Ä—Å–∏—è –∏–∑ dist-tags: 5.1.0
   üìã –ü–æ–ª—è –≤ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –≤–µ—Ä—Å–∏–∏: ['name', 'version', 'keywords', 'author', 'license', '_id', 'maintainers', 'contributors', 'homepage', 'bugs', 'dist', 'engines', 'funding', 'gitHead', 'scripts', '_npmUser', 'repository', '_npmVersion', 'description', 'directories', '_nodeVersion', 'dependencies', '_hasShrinkwrap', 'devDependencies', '_npmOperationalInternal']
   ‚úÖ –ù–∞–π–¥–µ–Ω—ã –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –≤ –ø–æ–ª–µ 'dependencies': 27 —à—Ç.
   üì¶ –ù–∞–π–¥–µ–Ω—ã –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –≤ –ø–æ–ª–µ 'devDependencies': 16 —à—Ç.
============================================================
üì¶ –ü—Ä—è–º—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –ø–∞–∫–µ—Ç–∞ 'express':
   - qs: ^6.14.0
   - etag: ^1.8.1
   - once: ^1.4.0
   - send: ^1.1.0
   - vary: ^1.1.2
   - debug: ^4.4.0
   - fresh: ^2.0.0
   - cookie: ^0.7.1
   - router: ^2.2.0
   - accepts: ^2.0.0
   - type-is: ^2.0.1
   - parseurl: ^1.3.3
   - statuses: ^2.0.1
   - encodeurl: ^2.0.0
   - mime-types: ^3.0.0
   - proxy-addr: ^2.0.7
   - body-parser: ^2.2.0
   - escape-html: ^1.0.3
   - http-errors: ^2.0.0
   - on-finished: ^2.4.1
   - content-type: ^1.0.5
   - finalhandler: ^2.1.0
   - range-parser: ^1.2.1
   - serve-static: ^2.2.0
   - cookie-signature: ^1.2.1
   - merge-descriptors: ^2.0.0
   - content-disposition: ^1.0.0

‚úÖ –≠—Ç–∞–ø 2 —É—Å–ø–µ—à–Ω–æ –∑–∞–≤–µ—Ä—à–µ–Ω.
```

### –¢–µ—Å—Ç 2: –¢–µ—Å—Ç–æ–≤—ã–π —Ä–µ–∂–∏–º - –ø—Ä–æ—Å—Ç–æ–π JSON —Ñ–∞–π–ª
```bash
python dependency_visualizer.py --package "A" --repo "test_repo_simple.json" --test-mode --output "graph.svg"
```

**–û–∂–∏–¥–∞–µ–º—ã–π –≤—ã–≤–æ–¥:**
```
üéØ –ê–Ω–∞–ª–∏–∑ –ø–∞–∫–µ—Ç–∞: A
üîß –†–µ–∂–∏–º: —Ç–µ—Å—Ç–æ–≤—ã–π
============================================================
üîç –ê–Ω–∞–ª–∏–∑ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ —Ñ–∞–π–ª–∞:
   - –ó–∞–≥—Ä—É–∂–µ–Ω —Ñ–∞–π–ª: test_repo_simple.json
   - –¢–∏–ø –¥–∞–Ω–Ω—ã—Ö: <class 'dict'>
   ‚úÖ –ù–∞–π–¥–µ–Ω—ã –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –≤ —Å—Ç—Ä—É–∫—Ç—É—Ä–µ –æ–¥–Ω–æ–≥–æ –ø–∞–∫–µ—Ç–∞: 3 —à—Ç.
============================================================
üì¶ –ü—Ä—è–º—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –ø–∞–∫–µ—Ç–∞ 'A':
   - B: ^1.0.0
   - C: ^2.0.0
   - D: ^3.0.0

‚úÖ –≠—Ç–∞–ø 2 —É—Å–ø–µ—à–Ω–æ –∑–∞–≤–µ—Ä—à–µ–Ω.
```

### –¢–µ—Å—Ç 3: –¢–µ—Å—Ç–æ–≤—ã–π —Ä–µ–∂–∏–º - —Å–ª–æ–∂–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –ø–∞–∫–µ—Ç–∞–º–∏
```bash
python dependency_visualizer.py --package "A" --repo "test_repo_complex.json" --test-mode --output "graph.svg"
```

**–û–∂–∏–¥–∞–µ–º—ã–π –≤—ã–≤–æ–¥:**
```
üéØ –ê–Ω–∞–ª–∏–∑ –ø–∞–∫–µ—Ç–∞: A
üîß –†–µ–∂–∏–º: —Ç–µ—Å—Ç–æ–≤—ã–π
============================================================
üîç –ê–Ω–∞–ª–∏–∑ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ —Ñ–∞–π–ª–∞:
   - –ó–∞–≥—Ä—É–∂–µ–Ω —Ñ–∞–π–ª: test_repo_complex.json
   - –¢–∏–ø –¥–∞–Ω–Ω—ã—Ö: <class 'dict'>
   ‚úÖ –ù–∞–π–¥–µ–Ω—ã –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –≤ —Å—Ç—Ä—É–∫—Ç—É—Ä–µ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –ø–∞–∫–µ—Ç–æ–≤: 2 —à—Ç.
============================================================
üì¶ –ü—Ä—è–º—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –ø–∞–∫–µ—Ç–∞ 'A':
   - B: ^1.0.0
   - C: ^2.0.0

‚úÖ –≠—Ç–∞–ø 2 —É—Å–ø–µ—à–Ω–æ –∑–∞–≤–µ—Ä—à–µ–Ω.
```

### –¢–µ—Å—Ç 4: –¢–µ—Å—Ç–æ–≤—ã–π —Ä–µ–∂–∏–º - –ø–∞–∫–µ—Ç –±–µ–∑ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
```bash
python dependency_visualizer.py --package "simple-package" --repo "test_repo_no_deps.json" --test-mode --output "graph.svg"
```

**–û–∂–∏–¥–∞–µ–º—ã–π –≤—ã–≤–æ–¥:**
```
üéØ –ê–Ω–∞–ª–∏–∑ –ø–∞–∫–µ—Ç–∞: simple-package
üîß –†–µ–∂–∏–º: —Ç–µ—Å—Ç–æ–≤—ã–π
============================================================
üîç –ê–Ω–∞–ª–∏–∑ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ —Ñ–∞–π–ª–∞:
   - –ó–∞–≥—Ä—É–∂–µ–Ω —Ñ–∞–π–ª: test_repo_no_deps.json
   - –¢–∏–ø –¥–∞–Ω–Ω—ã—Ö: <class 'dict'>
   ‚úÖ –ù–∞–π–¥–µ–Ω—ã –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –≤ —Å—Ç—Ä—É–∫—Ç—É—Ä–µ –æ–¥–Ω–æ–≥–æ –ø–∞–∫–µ—Ç–∞: 0 —à—Ç.
============================================================
üì≠ –ü–∞–∫–µ—Ç 'simple-package' –Ω–µ –∏–º–µ–µ—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

‚úÖ –≠—Ç–∞–ø 2 —É—Å–ø–µ—à–Ω–æ –∑–∞–≤–µ—Ä—à–µ–Ω.
```

### –¢–µ—Å—Ç 5: –û—à–∏–±–∫–∞ - –Ω–µ–≤–∞–ª–∏–¥–Ω—ã–π JSON —Ñ–∞–π–ª
```bash
python dependency_visualizer.py --package "A" --repo "test_repo_invalid.json" --test-mode --output "graph.svg"
```

**–û–∂–∏–¥–∞–µ–º—ã–π –≤—ã–≤–æ–¥:**
```
‚ùå –û—à–∏–±–∫–∞: –û—à–∏–±–∫–∞ –ø–∞—Ä—Å–∏–Ω–≥–∞ JSON —Ñ–∞–π–ª–∞: Expecting ',' delimiter: line 5 column 1 (char 52)
```

### –¢–µ—Å—Ç 6: –û—à–∏–±–∫–∞ - –ø–∞–∫–µ—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω –≤ —Ç–µ—Å—Ç–æ–≤–æ–º —Ñ–∞–π–ª–µ
```bash
python dependency_visualizer.py --package "Z" --repo "test_repo_complex.json" --test-mode --output "graph.svg"
```

**–û–∂–∏–¥–∞–µ–º—ã–π –≤—ã–≤–æ–¥:**
```
üéØ –ê–Ω–∞–ª–∏–∑ –ø–∞–∫–µ—Ç–∞: Z
üîß –†–µ–∂–∏–º: —Ç–µ—Å—Ç–æ–≤—ã–π
============================================================
üîç –ê–Ω–∞–ª–∏–∑ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ —Ñ–∞–π–ª–∞:
   - –ó–∞–≥—Ä—É–∂–µ–Ω —Ñ–∞–π–ª: test_repo_complex.json
   - –¢–∏–ø –¥–∞–Ω–Ω—ã—Ö: <class 'dict'>
   ‚ùå –ü–∞–∫–µ—Ç 'Z' –Ω–µ –Ω–∞–π–¥–µ–Ω –≤ —Ç–µ—Å—Ç–æ–≤–æ–º —Ñ–∞–π–ª–µ
‚ùå –û—à–∏–±–∫–∞: –ü–∞–∫–µ—Ç 'Z' –Ω–µ –Ω–∞–π–¥–µ–Ω –≤ —Ç–µ—Å—Ç–æ–≤–æ–º —Ñ–∞–π–ª–µ
```

# –≠—Ç–∞–ø 3: –û—Å–Ω–æ–≤–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏

### 1. –ü–æ–ª—É—á–µ–Ω–∏–µ –≥—Ä–∞—Ñ–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –∞–ª–≥–æ—Ä–∏—Ç–º–æ–º DFS –±–µ–∑ —Ä–µ–∫—É—Ä—Å–∏–∏
```python
def build_dependency_graph_dfs(self, start_package, repo_url, test_mode=False, filter_substring=""):
    """–ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –≥—Ä–∞—Ñ–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π —Å –ø–æ–º–æ—â—å—é DFS –±–µ–∑ —Ä–µ–∫—É—Ä—Å–∏–∏"""
    # –°—Ç–µ–∫ —Å–æ–¥–µ—Ä–∂–∏—Ç (—Ç–µ–∫—É—â–∏–π_–ø–∞–∫–µ—Ç, –ø—É—Ç—å_–æ—Ç_–∫–æ—Ä–Ω—è)
    stack = [(start_package, [])]
    visited = set()
    graph = {}
    cycles = []
    
    while stack:
        current_package, path = stack.pop()
        
        # –ü—Ä–æ–ø—É—Å–∫–∞–µ–º –ø–∞–∫–µ—Ç—ã –ø–æ —Ñ–∏–ª—å—Ç—Ä—É
        if self.should_filter_package(current_package, filter_substring):
            print(f"   üö´ –ü–∞–∫–µ—Ç '{current_package}' –æ—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞–Ω")
            graph[current_package] = []
            continue
        
        # –ï—Å–ª–∏ –ø–∞–∫–µ—Ç —É–∂–µ –≤ –≥—Ä–∞—Ñ–µ, –ø—Ä–æ–ø—É—Å–∫–∞–µ–º –ø–æ–ª—É—á–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
        if current_package not in graph:
            dependencies = self.get_direct_dependencies(current_package, repo_url, test_mode)
            dependency_names = list(dependencies.keys())
            graph[current_package] = dependency_names
            print(f"   üì¶ {current_package} -> {dependency_names}")
        
        # –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
        for dep in reversed(graph[current_package]):
            # –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ü–∏–∫–ª–∏—á–µ—Å–∫—É—é –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å
            if dep in path:
                cycle_start = path.index(dep)
                cycle = path[cycle_start:] + [current_package, dep]
                if cycle not in cycles:
                    cycles.append(cycle)
                    print(f"   üîÅ –û–±–Ω–∞—Ä—É–∂–µ–Ω–∞ —Ü–∏–∫–ª–∏—á–µ—Å–∫–∞—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å: {' -> '.join(cycle)}")
                continue
            
            # –î–æ–±–∞–≤–ª—è–µ–º –≤ —Å—Ç–µ–∫ –¥–ª—è –¥–∞–ª—å–Ω–µ–π—à–µ–≥–æ –æ–±—Ö–æ–¥–∞
            if dep not in visited:
                visited.add(dep)
                stack.append((dep, path + [current_package]))
    
    return graph, cycles
```

### 2. –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–∞–∫–µ—Ç–æ–≤ –ø–æ –ø–æ–¥—Å—Ç—Ä–æ–∫–µ
```python
def should_filter_package(self, package_name, filter_substring):
    """–ü—Ä–æ–≤–µ—Ä–∫–∞, –Ω—É–∂–Ω–æ –ª–∏ —Ñ–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å –ø–∞–∫–µ—Ç"""
    if not filter_substring:
        return False
    return filter_substring.lower() in package_name.lower()
```

### 3. –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ü–∏–∫–ª–∏—á–µ—Å–∫–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
```python
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ü–∏–∫–ª–∏—á–µ—Å–∫–æ–π –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –≤ –∞–ª–≥–æ—Ä–∏—Ç–º–µ DFS
if dep in path:
    cycle_start = path.index(dep)
    cycle = path[cycle_start:] + [current_package, dep]
    if cycle not in cycles:
        cycles.append(cycle)
        print(f"   üîÅ –û–±–Ω–∞—Ä—É–∂–µ–Ω–∞ —Ü–∏–∫–ª–∏—á–µ—Å–∫–∞—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å: {' -> '.join(cycle)}")
    continue
```

### 4. –†–µ–∂–∏–º —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å –ø–∞–∫–µ—Ç–∞–º–∏ –≤ –≤–µ—Ä—Ö–Ω–µ–º —Ä–µ–≥–∏—Å—Ç—Ä–µ
```python
def get_dependencies_from_test_file(self, package_name, file_path):
    """–ü–æ–ª—É—á–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –∏–∑ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ —Ñ–∞–π–ª–∞"""
    try:
        with open(file_path, 'r', encoding='utf-8') as f:
            data = json.load(f)
    except FileNotFoundError:
        raise Exception(f"–§–∞–π–ª '{file_path}' –Ω–µ –Ω–∞–π–¥–µ–Ω")
    except json.JSONDecodeError as e:
        raise Exception(f"–û—à–∏–±–∫–∞ –ø–∞—Ä—Å–∏–Ω–≥–∞ JSON —Ñ–∞–π–ª–∞: {e}")
    
    # –ò—â–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø–∞–∫–µ—Ç–µ –≤ —Ç–µ—Å—Ç–æ–≤–æ–º —Ñ–∞–π–ª–µ
    if isinstance(data, dict):
        # –ï—Å–ª–∏ —Ñ–∞–π–ª —Å–æ–¥–µ—Ä–∂–∏—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ–± –æ–¥–Ω–æ–º –ø–∞–∫–µ—Ç–µ
        if data.get('name') == package_name or 'dependencies' in data:
            return data.get('dependencies', {})
        # –ï—Å–ª–∏ —Ñ–∞–π–ª —Å–æ–¥–µ—Ä–∂–∏—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –ø–∞–∫–µ—Ç–∞—Ö
        elif package_name in data:
            package_data = data[package_name]
            if isinstance(package_data, dict) and 'dependencies' in package_data:
                return package_data['dependencies']
            elif isinstance(package_data, dict):
                return package_data
    elif isinstance(data, list):
        # –ï—Å–ª–∏ —Ñ–∞–π–ª —Å–æ–¥–µ—Ä–∂–∏—Ç —Å–ø–∏—Å–æ–∫ –ø–∞–∫–µ—Ç–æ–≤
        for package in data:
            if package.get('name') == package_name:
                return package.get('dependencies', {})
    
    return {}
```

## –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π

### –¢–µ—Å—Ç 1: –¢–µ—Å—Ç–æ–≤—ã–π —Ä–µ–∂–∏–º - –ø—Ä–æ—Å—Ç–æ–π –≥—Ä–∞—Ñ –±–µ–∑ —Ü–∏–∫–ª–æ–≤
```bash
python dependency_visualizer.py --package "A" --repo "test_repo_complex.json" --test-mode --output "graph.svg"
```

**–û–∂–∏–¥–∞–µ–º—ã–π –≤—ã–≤–æ–¥:**
```
üéØ –ê–Ω–∞–ª–∏–∑ –ø–∞–∫–µ—Ç–∞: A
üîß –†–µ–∂–∏–º: —Ç–µ—Å—Ç–æ–≤—ã–π
============================================================
üîç –ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –≥—Ä–∞—Ñ–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (DFS –±–µ–∑ —Ä–µ–∫—É—Ä—Å–∏–∏):
   üì¶ A -> ['B', 'C']
   üì¶ C -> ['D', 'E']
   üì¶ E -> []
   üì¶ D -> []
   üì¶ B -> ['D']
============================================================
üå≥ –ü–æ–ª–Ω—ã–π –≥—Ä–∞—Ñ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –¥–ª—è –ø–∞–∫–µ—Ç–∞ 'A':
   A -> ['B', 'C']
   B -> ['D']
   C -> ['D', 'E']
   D -> []
   E -> []

üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:
   –í—Å–µ–≥–æ –ø–∞–∫–µ—Ç–æ–≤ –≤ –≥—Ä–∞—Ñ–µ: 5
   –ü–∞–∫–µ—Ç–æ–≤ —Å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏: 3
   –¶–∏–∫–ª–∏—á–µ—Å–∫–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π: 0

‚úÖ –≠—Ç–∞–ø 3 —É—Å–ø–µ—à–Ω–æ –∑–∞–≤–µ—Ä—à–µ–Ω.
```

### –¢–µ—Å—Ç 2: –¢–µ—Å—Ç–æ–≤—ã–π —Ä–µ–∂–∏–º —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π
```bash
python dependency_visualizer.py --package "A" --repo "test_repo_complex.json" --test-mode --output "graph.svg" --filter "D"
```

**–û–∂–∏–¥–∞–µ–º—ã–π –≤—ã–≤–æ–¥:**
```
üéØ –ê–Ω–∞–ª–∏–∑ –ø–∞–∫–µ—Ç–∞: A
üîß –†–µ–∂–∏–º: —Ç–µ—Å—Ç–æ–≤—ã–π
üö´ –§–∏–ª—å—Ç—Ä: 'D'
============================================================
üîç –ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –≥—Ä–∞—Ñ–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (DFS –±–µ–∑ —Ä–µ–∫—É—Ä—Å–∏–∏):
   üì¶ A -> ['B', 'C']
   üì¶ C -> ['D', 'E']
   üö´ –ü–∞–∫–µ—Ç 'D' –æ—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞–Ω
   üì¶ E -> []
   üì¶ B -> ['D']
   üö´ –ü–∞–∫–µ—Ç 'D' –æ—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞–Ω
============================================================
üå≥ –ü–æ–ª–Ω—ã–π –≥—Ä–∞—Ñ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –¥–ª—è –ø–∞–∫–µ—Ç–∞ 'A':
   A -> ['B', 'C']
   B -> []
   C -> ['E']
   E -> []

üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:
   –í—Å–µ–≥–æ –ø–∞–∫–µ—Ç–æ–≤ –≤ –≥—Ä–∞—Ñ–µ: 4
   –ü–∞–∫–µ—Ç–æ–≤ —Å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏: 2
   –¶–∏–∫–ª–∏—á–µ—Å–∫–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π: 0

‚úÖ –≠—Ç–∞–ø 3 —É—Å–ø–µ—à–Ω–æ –∑–∞–≤–µ—Ä—à–µ–Ω.
```

### –¢–µ—Å—Ç 3: –¢–µ—Å—Ç–æ–≤—ã–π —Ä–µ–∂–∏–º - —Ü–∏–∫–ª–∏—á–µ—Å–∫–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

–°–æ–∑–¥–∞–¥–∏–º —Ñ–∞–π–ª `test_repo_cycle.json`:
```json
{
  "A": {
    "dependencies": {
      "B": "^1.0.0"
    }
  },
  "B": {
    "dependencies": {
      "C": "^1.0.0"
    }
  },
  "C": {
    "dependencies": {
      "A": "^1.0.0"
    }
  }
}
```

```bash
python dependency_visualizer.py --package "A" --repo "test_repo_cycle.json" --test-mode --output "graph.svg"
```

**–û–∂–∏–¥–∞–µ–º—ã–π –≤—ã–≤–æ–¥:**
```
üéØ –ê–Ω–∞–ª–∏–∑ –ø–∞–∫–µ—Ç–∞: A
üîß –†–µ–∂–∏–º: —Ç–µ—Å—Ç–æ–≤—ã–π
============================================================
üîç –ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –≥—Ä–∞—Ñ–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (DFS –±–µ–∑ —Ä–µ–∫—É—Ä—Å–∏–∏):
   üì¶ A -> ['B']
   üì¶ B -> ['C']
   üì¶ C -> ['A']
   üîÅ –û–±–Ω–∞—Ä—É–∂–µ–Ω–∞ —Ü–∏–∫–ª–∏—á–µ—Å–∫–∞—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å: A -> B -> C -> A
============================================================
‚ö†Ô∏è –û–±–Ω–∞—Ä—É–∂–µ–Ω–æ —Ü–∏–∫–ª–∏—á–µ—Å–∫–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π: 1
   1. A -> B -> C -> A

üå≥ –ü–æ–ª–Ω—ã–π –≥—Ä–∞—Ñ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –¥–ª—è –ø–∞–∫–µ—Ç–∞ 'A':
   A -> ['B']
   B -> ['C']
   C -> ['A']

üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:
   –í—Å–µ–≥–æ –ø–∞–∫–µ—Ç–æ–≤ –≤ –≥—Ä–∞—Ñ–µ: 3
   –ü–∞–∫–µ—Ç–æ–≤ —Å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏: 3
   –¶–∏–∫–ª–∏—á–µ—Å–∫–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π: 1

‚úÖ –≠—Ç–∞–ø 3 —É—Å–ø–µ—à–Ω–æ –∑–∞–≤–µ—Ä—à–µ–Ω.
```

### –¢–µ—Å—Ç 4: –†–µ–∞–ª—å–Ω—ã–π —Ä–µ–∂–∏–º - Express —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π
```bash
python dependency_visualizer.py --package "express" --repo "https://registry.npmjs.org" --output "graph.svg" --filter "debug"
```

### –¢–µ—Å—Ç 5: –¢–µ—Å—Ç–æ–≤—ã–π —Ä–µ–∂–∏–º - –ø–∞–∫–µ—Ç –±–µ–∑ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
```bash
python dependency_visualizer.py --package "simple-package" --repo "test_repo_no_deps.json" --test-mode --output "graph.svg"
```

**–û–∂–∏–¥–∞–µ–º—ã–π –≤—ã–≤–æ–¥:**
```
üéØ –ê–Ω–∞–ª–∏–∑ –ø–∞–∫–µ—Ç–∞: simple-package
üîß –†–µ–∂–∏–º: —Ç–µ—Å—Ç–æ–≤—ã–π
============================================================
üîç –ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –≥—Ä–∞—Ñ–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (DFS –±–µ–∑ —Ä–µ–∫—É—Ä—Å–∏–∏):
   üì¶ simple-package -> []
============================================================
üå≥ –ü–æ–ª–Ω—ã–π –≥—Ä–∞—Ñ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –¥–ª—è –ø–∞–∫–µ—Ç–∞ 'simple-package':
   simple-package -> []

üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:
   –í—Å–µ–≥–æ –ø–∞–∫–µ—Ç–æ–≤ –≤ –≥—Ä–∞—Ñ–µ: 1
   –ü–∞–∫–µ—Ç–æ–≤ —Å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏: 0
   –¶–∏–∫–ª–∏—á–µ—Å–∫–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π: 0

‚úÖ –≠—Ç–∞–ø 3 —É—Å–ø–µ—à–Ω–æ –∑–∞–≤–µ—Ä—à–µ–Ω.
```

### –¢–µ—Å—Ç 6: –°–ª–æ–∂–Ω—ã–π —Ü–∏–∫–ª —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π

–°–æ–∑–¥–∞–¥–∏–º —Ñ–∞–π–ª `test_repo_complex_cycle.json`:
```json
{
  "A": {
    "dependencies": {
      "B": "^1.0.0",
      "C": "^1.0.0"
    }
  },
  "B": {
    "dependencies": {
      "D": "^1.0.0"
    }
  },
  "C": {
    "dependencies": {
      "B": "^1.0.0"
    }
  },
  "D": {
    "dependencies": {
      "A": "^1.0.0"
    }
  }
}
```

```bash
python dependency_visualizer.py --package "A" --repo "test_repo_complex_cycle.json" --test-mode --output "graph.svg" --filter "C"
```

**–û–∂–∏–¥–∞–µ–º—ã–π –≤—ã–≤–æ–¥:**
```
üéØ –ê–Ω–∞–ª–∏–∑ –ø–∞–∫–µ—Ç–∞: A
üîß –†–µ–∂–∏–º: —Ç–µ—Å—Ç–æ–≤—ã–π
üö´ –§–∏–ª—å—Ç—Ä: 'C'
============================================================
üîç –ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –≥—Ä–∞—Ñ–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (DFS –±–µ–∑ —Ä–µ–∫—É—Ä—Å–∏–∏):
   üì¶ A -> ['B', 'C']
   üì¶ B -> ['D']
   üì¶ D -> ['A']
   üîÅ –û–±–Ω–∞—Ä—É–∂–µ–Ω–∞ —Ü–∏–∫–ª–∏—á–µ—Å–∫–∞—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å: A -> B -> D -> A
   üö´ –ü–∞–∫–µ—Ç 'C' –æ—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞–Ω
============================================================
‚ö†Ô∏è –û–±–Ω–∞—Ä—É–∂–µ–Ω–æ —Ü–∏–∫–ª–∏—á–µ—Å–∫–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π: 1
   1. A -> B -> D -> A

üå≥ –ü–æ–ª–Ω—ã–π –≥—Ä–∞—Ñ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –¥–ª—è –ø–∞–∫–µ—Ç–∞ 'A':
   A -> ['B', 'C']
   B -> ['D']
   D -> ['A']
   C -> (–Ω–µ—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π)

üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:
   –í—Å–µ–≥–æ –ø–∞–∫–µ—Ç–æ–≤ –≤ –≥—Ä–∞—Ñ–µ: 4
   –ü–∞–∫–µ—Ç–æ–≤ —Å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏: 3
   –¶–∏–∫–ª–∏—á–µ—Å–∫–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π: 1
```

# –≠—Ç–∞–ø 4: –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏

### 1. –†–µ–∂–∏–º –≤—ã–≤–æ–¥–∞ –æ–±—Ä–∞—Ç–Ω—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (—Ç–æ–ª—å–∫–æ –¥–ª—è —ç—Ç–æ–≥–æ —ç—Ç–∞–ø–∞)
```python
def find_reverse_dependencies(self, target_package, repo_url, test_mode=False, filter_substring=""):
    """–ü–æ–∏—Å–∫ –æ–±—Ä–∞—Ç–Ω—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π —Å –ø–æ–º–æ—â—å—é DFS"""
    print(f"üîç –ü–æ–∏—Å–∫ –æ–±—Ä–∞—Ç–Ω—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –¥–ª—è –ø–∞–∫–µ—Ç–∞ '{target_package}':")
    
    # –ü–æ–ª—É—á–∞–µ–º –≤—Å–µ –ø–∞–∫–µ—Ç—ã –∏–∑ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
    if test_mode:
        try:
            with open(repo_url, 'r', encoding='utf-8') as f:
                data = json.load(f)
        except Exception as e:
            print(f"‚ùå –û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ —Ñ–∞–π–ª–∞: {e}")
            return []
        
        all_packages = []
        if isinstance(data, dict):
            if 'name' in data and 'dependencies' in data:
                all_packages = [data['name']]
            else:
                all_packages = list(data.keys())
        elif isinstance(data, list):
            all_packages = [pkg.get('name') for pkg in data if pkg.get('name')]
    else:
        print("   ‚ö†Ô∏è –í —Ä–µ–∞–ª—å–Ω–æ–º —Ä–µ–∂–∏–º–µ –ø–æ–∏—Å–∫ –æ–±—Ä–∞—Ç–Ω—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –æ–≥—Ä–∞–Ω–∏—á–µ–Ω")
        popular_packages = ["express", "react", "lodash", "axios", "webpack"]
        all_packages = popular_packages
    
    reverse_deps = []
    
    # –î–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–∞–∫–µ—Ç–∞ –ø—Ä–æ–≤–µ—Ä—è–µ–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç target_package
    for package in all_packages:
        if package == target_package:
            continue
                
        if self.should_filter_package(package, filter_substring):
            continue
        
        # –ù–∞—Ö–æ–¥–∏–º –≤—Å–µ –ø—É—Ç–∏ –æ—Ç package –¥–æ target_package
        paths = self.find_all_paths_to_target(package, target_package, repo_url, test_mode, filter_substring)
        
        for path in paths:
            if len(path) == 2:
                # –ü—Ä—è–º–∞—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å
                reverse_deps.append((package, "–ø—Ä—è–º–∞—è"))
                print(f"   ‚úÖ {package} -> {target_package} (–ø—Ä—è–º–∞—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å)")
            else:
                # –¢—Ä–∞–Ω–∑–∏—Ç–∏–≤–Ω–∞—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å
                intermediate = path[1]  # –ü–µ—Ä–≤—ã–π –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–π –ø–∞–∫–µ—Ç
                reverse_deps.append((package, f"—Ç—Ä–∞–Ω–∑–∏—Ç–∏–≤–Ω–∞—è —á–µ—Ä–µ–∑ {intermediate}"))
                path_str = " -> ".join(path)
                print(f"   üîÑ {path_str} (—Ç—Ä–∞–Ω–∑–∏—Ç–∏–≤–Ω–∞—è)")
    
    return reverse_deps
```

### 2. –ü–æ–∏—Å–∫ –≤—Å–µ—Ö –ø—É—Ç–µ–π –¥–æ —Ü–µ–ª–µ–≤–æ–≥–æ –ø–∞–∫–µ—Ç–∞
```python
def find_all_paths_to_target(self, start_package, target_package, repo_url, test_mode=False, filter_substring=""):
    """–ù–∞—Ö–æ–¥–∏—Ç –≤—Å–µ –ø—É—Ç–∏ –æ—Ç start_package –¥–æ target_package"""
    if start_package == target_package:
        return []
        
    stack = [(start_package, [start_package])]
    paths = []
    
    while stack:
        current_package, path = stack.pop()
        
        # –ü—Ä–æ–ø—É—Å–∫–∞–µ–º –ø–∞–∫–µ—Ç—ã –ø–æ —Ñ–∏–ª—å—Ç—Ä—É
        if self.should_filter_package(current_package, filter_substring):
            continue
        
        # –ü–æ–ª—É—á–∞–µ–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —Ç–µ–∫—É—â–µ–≥–æ –ø–∞–∫–µ—Ç–∞
        dependencies = self.get_direct_dependencies(current_package, repo_url, test_mode)
        dependency_names = list(dependencies.keys())
        
        for dep in dependency_names:
            # –ü—Ä–æ–ø—É—Å–∫–∞–µ–º –ø–æ —Ñ–∏–ª—å—Ç—Ä—É
            if self.should_filter_package(dep, filter_substring):
                continue
                
            if dep == target_package:
                # –ù–∞—à–ª–∏ –ø—É—Ç—å –∫ —Ü–µ–ª–µ–≤–æ–º—É –ø–∞–∫–µ—Ç—É
                paths.append(path + [dep])
            elif dep not in path:  # –ò–∑–±–µ–≥–∞–µ–º —Ü–∏–∫–ª–æ–≤
                stack.append((dep, path + [dep]))
    
    return paths
```

### 3. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∞–ª–≥–æ—Ä–∏—Ç–º–∞ –æ–±—Ö–æ–¥–∞ –∏–∑ –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ —ç—Ç–∞–ø–∞
```python
# –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∞–ª–≥–æ—Ä–∏—Ç–º DFS –¥–ª—è –ø–æ–∏—Å–∫–∞ –≤—Å–µ—Ö –ø—É—Ç–µ–π
stack = [(start_package, [start_package])]
paths = []

while stack:
    current_package, path = stack.pop()
    # ... –ª–æ–≥–∏–∫–∞ –æ–±—Ö–æ–¥–∞ –≥—Ä–∞—Ñ–∞
```

### 4. –í—ã–≤–æ–¥ –æ–±—Ä–∞—Ç–Ω—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
```python
def print_reverse_dependencies(self, target_package, reverse_deps):
    """–í—ã–≤–æ–¥ –æ–±—Ä–∞—Ç–Ω—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π"""
    if not reverse_deps:
        print(f"üì≠ –ü–∞–∫–µ—Ç '{target_package}' –Ω–µ –∏–º–µ–µ—Ç –æ–±—Ä–∞—Ç–Ω—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π")
        return
    
    print(f"üîÑ –û–±—Ä–∞—Ç–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –ø–∞–∫–µ—Ç–∞ '{target_package}':")
    for package, dep_type in reverse_deps:
        print(f"   - {package} ({dep_type})")
```

## –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π

### –¢–µ—Å—Ç 1: –û–±—Ä–∞—Ç–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –≤ —Ç–µ—Å—Ç–æ–≤–æ–º —Ä–µ–∂–∏–º–µ

```bash
python dependency_visualizer.py --package "UTILS" --repo "test_reverse_deps.json" --test-mode --reverse --output "graph.svg"
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
```
üéØ –ê–Ω–∞–ª–∏–∑ –ø–∞–∫–µ—Ç–∞: UTILS
üîß –†–µ–∂–∏–º: —Ç–µ—Å—Ç–æ–≤—ã–π
üîÑ –†–µ–∂–∏–º: –æ–±—Ä–∞—Ç–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
============================================================
üîç –ü–æ–∏—Å–∫ –æ–±—Ä–∞—Ç–Ω—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –¥–ª—è –ø–∞–∫–µ—Ç–∞ 'UTILS':
   ‚úÖ UI -> UTILS (–ø—Ä—è–º–∞—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å)
   ‚úÖ API -> UTILS (–ø—Ä—è–º–∞—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å)
   üîÑ APP -> UI -> UTILS (—Ç—Ä–∞–Ω–∑–∏—Ç–∏–≤–Ω–∞—è)
   üîÑ APP -> API -> UTILS (—Ç—Ä–∞–Ω–∑–∏—Ç–∏–≤–Ω–∞—è)
============================================================
üîÑ –û–±—Ä–∞—Ç–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –ø–∞–∫–µ—Ç–∞ 'UTILS':
   - UI (–ø—Ä—è–º–∞—è)
   - API (–ø—Ä—è–º–∞—è)
   - APP (—Ç—Ä–∞–Ω–∑–∏—Ç–∏–≤–Ω–∞—è —á–µ—Ä–µ–∑ UI)
   - APP (—Ç—Ä–∞–Ω–∑–∏—Ç–∏–≤–Ω–∞—è —á–µ—Ä–µ–∑ API)

‚úÖ –≠—Ç–∞–ø 4 —É—Å–ø–µ—à–Ω–æ –∑–∞–≤–µ—Ä—à–µ–Ω.
```

### –¢–µ—Å—Ç 2: –û–±—Ä–∞—Ç–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π

```bash
python dependency_visualizer.py --package "UTILS" --repo "test_reverse_deps.json" --test-mode --reverse --filter "APP" --output "graph.svg"
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
```
üéØ –ê–Ω–∞–ª–∏–∑ –ø–∞–∫–µ—Ç–∞: UTILS
üîß –†–µ–∂–∏–º: —Ç–µ—Å—Ç–æ–≤—ã–π
üö´ –§–∏–ª—å—Ç—Ä: 'APP'
üîÑ –†–µ–∂–∏–º: –æ–±—Ä–∞—Ç–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
============================================================
üîç –ü–æ–∏—Å–∫ –æ–±—Ä–∞—Ç–Ω—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –¥–ª—è –ø–∞–∫–µ—Ç–∞ 'UTILS':
   ‚úÖ UI -> UTILS (–ø—Ä—è–º–∞—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å)
   ‚úÖ API -> UTILS (–ø—Ä—è–º–∞—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å)
============================================================
üîÑ –û–±—Ä–∞—Ç–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –ø–∞–∫–µ—Ç–∞ 'UTILS':
   - UI (–ø—Ä—è–º–∞—è)
   - API (–ø—Ä—è–º–∞—è)

‚úÖ –≠—Ç–∞–ø 4 —É—Å–ø–µ—à–Ω–æ –∑–∞–≤–µ—Ä—à–µ–Ω.
```

### –¢–µ—Å—Ç 3: –û–±—Ä–∞—Ç–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –¥–ª—è –ø–∞–∫–µ—Ç–∞ LOGGER

```bash
python dependency_visualizer.py --package "LOGGER" --repo "test_reverse_deps.json" --test-mode --reverse --output "graph.svg"
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
```
üéØ –ê–Ω–∞–ª–∏–∑ –ø–∞–∫–µ—Ç–∞: LOGGER
üîß –†–µ–∂–∏–º: —Ç–µ—Å—Ç–æ–≤—ã–π
üîÑ –†–µ–∂–∏–º: –æ–±—Ä–∞—Ç–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
============================================================
üîç –ü–æ–∏—Å–∫ –æ–±—Ä–∞—Ç–Ω—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –¥–ª—è –ø–∞–∫–µ—Ç–∞ 'LOGGER':
   ‚úÖ UTILS -> LOGGER (–ø—Ä—è–º–∞—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å)
   üîÑ UI -> UTILS -> LOGGER (—Ç—Ä–∞–Ω–∑–∏—Ç–∏–≤–Ω–∞—è)
   üîÑ API -> UTILS -> LOGGER (—Ç—Ä–∞–Ω–∑–∏—Ç–∏–≤–Ω–∞—è)
   üîÑ APP -> UI -> UTILS -> LOGGER (—Ç—Ä–∞–Ω–∑–∏—Ç–∏–≤–Ω–∞—è)
   üîÑ APP -> API -> UTILS -> LOGGER (—Ç—Ä–∞–Ω–∑–∏—Ç–∏–≤–Ω–∞—è)
============================================================
üîÑ –û–±—Ä–∞—Ç–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –ø–∞–∫–µ—Ç–∞ 'LOGGER':
   - UTILS (–ø—Ä—è–º–∞—è)
   - UI (—Ç—Ä–∞–Ω–∑–∏—Ç–∏–≤–Ω–∞—è —á–µ—Ä–µ–∑ UTILS)
   - API (—Ç—Ä–∞–Ω–∑–∏—Ç–∏–≤–Ω–∞—è —á–µ—Ä–µ–∑ UTILS)
   - APP (—Ç—Ä–∞–Ω–∑–∏—Ç–∏–≤–Ω–∞—è —á–µ—Ä–µ–∑ UI)
   - APP (—Ç—Ä–∞–Ω–∑–∏—Ç–∏–≤–Ω–∞—è —á–µ—Ä–µ–∑ API)

‚úÖ –≠—Ç–∞–ø 4 —É—Å–ø–µ—à–Ω–æ –∑–∞–≤–µ—Ä—à–µ–Ω.
```

### –¢–µ—Å—Ç 4: –û–±—Ä–∞—Ç–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –¥–ª—è –ø–∞–∫–µ—Ç–∞ THEME

```bash
python dependency_visualizer.py --package "THEME" --repo "test_reverse_deps.json" --test-mode --reverse --output "graph.svg"
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
```
üéØ –ê–Ω–∞–ª–∏–∑ –ø–∞–∫–µ—Ç–∞: THEME
üîß –†–µ–∂–∏–º: —Ç–µ—Å—Ç–æ–≤—ã–π
üîÑ –†–µ–∂–∏–º: –æ–±—Ä–∞—Ç–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
============================================================
üîç –ü–æ–∏—Å–∫ –æ–±—Ä–∞—Ç–Ω—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –¥–ª—è –ø–∞–∫–µ—Ç–∞ 'THEME':
   ‚úÖ UI -> THEME (–ø—Ä—è–º–∞—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å)
   üîÑ APP -> UI -> THEME (—Ç—Ä–∞–Ω–∑–∏—Ç–∏–≤–Ω–∞—è)
============================================================
üîÑ –û–±—Ä–∞—Ç–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –ø–∞–∫–µ—Ç–∞ 'THEME':
   - UI (–ø—Ä—è–º–∞—è)
   - APP (—Ç—Ä–∞–Ω–∑–∏—Ç–∏–≤–Ω–∞—è —á–µ—Ä–µ–∑ UI)

‚úÖ –≠—Ç–∞–ø 4 —É—Å–ø–µ—à–Ω–æ –∑–∞–≤–µ—Ä—à–µ–Ω.
```

### –¢–µ—Å—Ç 5: –ü–∞–∫–µ—Ç –±–µ–∑ –æ–±—Ä–∞—Ç–Ω—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
python dependency_visualizer.py --package "NETWORK" --repo "test_reverse_deps.json" --test-mode --reverse --output "graph.svg"
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
```
üéØ –ê–Ω–∞–ª–∏–∑ –ø–∞–∫–µ—Ç–∞: NETWORK
üîß –†–µ–∂–∏–º: —Ç–µ—Å—Ç–æ–≤—ã–π
üîÑ –†–µ–∂–∏–º: –æ–±—Ä–∞—Ç–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
============================================================
üîç –ü–æ–∏—Å–∫ –æ–±—Ä–∞—Ç–Ω—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –¥–ª—è –ø–∞–∫–µ—Ç–∞ 'NETWORK':
   ‚úÖ API -> NETWORK (–ø—Ä—è–º–∞—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å)
   üîÑ APP -> API -> NETWORK (—Ç—Ä–∞–Ω–∑–∏—Ç–∏–≤–Ω–∞—è)
============================================================
üîÑ –û–±—Ä–∞—Ç–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –ø–∞–∫–µ—Ç–∞ 'NETWORK':
   - API (–ø—Ä—è–º–∞—è)
   - APP (—Ç—Ä–∞–Ω–∑–∏—Ç–∏–≤–Ω–∞—è —á–µ—Ä–µ–∑ API)

‚úÖ –≠—Ç–∞–ø 4 —É—Å–ø–µ—à–Ω–æ –∑–∞–≤–µ—Ä—à–µ–Ω.
```

### –¢–µ—Å—Ç 6: –û–±—Ä–∞—Ç–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º —Ä–µ–∂–∏–º–µ

```bash
python dependency_visualizer.py --package "express" --repo "https://registry.npmjs.org" --reverse --output "graph.svg"
```

# –≠—Ç–∞–ø 5: –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è

### 1. –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è –≥—Ä–∞—Ñ–∞ –Ω–∞ —è–∑—ã–∫–µ Mermaid
```python
def generate_mermaid_diagram(self, graph, start_package):
    """–ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è –≥—Ä–∞—Ñ–∞ –Ω–∞ —è–∑—ã–∫–µ Mermaid"""
    mermaid_code = "%% –î–µ—Ä–µ–≤–æ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –¥–ª—è –ø–∞–∫–µ—Ç–∞ " + start_package + "\n"
    mermaid_code += "graph TD\n"
    
    # –î–æ–±–∞–≤–ª—è–µ–º —Å—Ç–∞—Ä—Ç–æ–≤—ã–π –ø–∞–∫–µ—Ç —Å –æ—Å–æ–±—ã–º —Å—Ç–∏–ª–µ–º
    mermaid_code += f"    {start_package.replace('-', '_')}[{start_package}]:::root\n"
    
    # –î–æ–±–∞–≤–ª—è–µ–º –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
    edges = set()
    nodes = set([start_package.replace('-', '_')])
    
    for package, dependencies in graph.items():
        package_id = package.replace('-', '_')
        nodes.add(package_id)
        
        for dep in dependencies:
            if dep in graph:  # –î–æ–±–∞–≤–ª—è–µ–º —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –µ—Å—Ç—å –≤ –≥—Ä–∞—Ñ–µ
                dep_id = dep.replace('-', '_')
                nodes.add(dep_id)
                edge = f"    {package_id} --> {dep_id}\n"
                if edge not in edges:
                    mermaid_code += edge
                    edges.add(edge)
    
    # –î–æ–±–∞–≤–ª—è–µ–º —Å—Ç–∏–ª–∏
    mermaid_code += "    \n"
    mermaid_code += "    classDef root fill:#e1f5fe,stroke:#01579b,stroke-width:2px\n"
    mermaid_code += "    classDef leaf fill:#f3e5f5,stroke:#4a148c,stroke-width:1px\n"
    mermaid_code += "    classDef node fill:#e8f5e8,stroke:#1b5e20,stroke-width:1px\n"
    
    # –ü—Ä–∏–º–µ–Ω—è–µ–º —Å—Ç–∏–ª–∏ –∫ –ª–∏—Å—Ç–æ–≤—ã–º —É–∑–ª–∞–º (–±–µ–∑ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π)
    for package, dependencies in graph.items():
        package_id = package.replace('-', '_')
        if not dependencies:
            mermaid_code += f"    class {package_id} leaf\n"
        elif package != start_package:
            mermaid_code += f"    class {package_id} node\n"
    
    return mermaid_code
```

### 2. –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –≥—Ä–∞—Ñ–∞ –≤ —Ñ–æ—Ä–º–∞—Ç–µ SVG
```python
def save_svg_from_mermaid(self, mermaid_code, output_file):
    """–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ SVG –∏–∑ Mermaid –∫–æ–¥–∞"""
    try:
        # –°–æ–∑–¥–∞–µ–º –≤—Ä–µ–º–µ–Ω–Ω—ã–π —Ñ–∞–π–ª —Å Mermaid –∫–æ–¥–æ–º
        with tempfile.NamedTemporaryFile(mode='w', suffix='.mmd', delete=False, encoding='utf-8') as f:
            f.write(mermaid_code)
            mermaid_file = f.name
        
        print(f"üìÅ –°–æ–∑–¥–∞–Ω –≤—Ä–µ–º–µ–Ω–Ω—ã–π —Ñ–∞–π–ª: {mermaid_file}")
        
        # –ü—Ä–æ–±—É–µ–º —Ä–∞–∑–Ω—ã–µ —Å–ø–æ—Å–æ–±—ã –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ SVG
        # –°–ø–æ—Å–æ–± 1: Docker mermaid-cli
        try:
            print("üöÄ –ü–æ–ø—ã—Ç–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ Docker mermaid-cli...")
            result = subprocess.run([
                'docker', 'run', '--rm', '-v', f'{os.path.dirname(mermaid_file)}:/data',
                'minlag/mermaid-cli', '-i', f'/data/{os.path.basename(mermaid_file)}',
                '-o', f'/data/{os.path.basename(output_file)}',
                '--backgroundColor', 'white'
            ], capture_output=True, text=True, timeout=60)
            
            if result.returncode == 0:
                # –ö–æ–ø–∏—Ä—É–µ–º —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ñ–∞–π–ª –∏–∑ –≤—Ä–µ–º–µ–Ω–Ω–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
                temp_svg = os.path.join(os.path.dirname(mermaid_file), os.path.basename(output_file))
                if os.path.exists(temp_svg):
                    import shutil
                    shutil.copy(temp_svg, output_file)
                    print(f"‚úÖ SVG —Ñ–∞–π–ª —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω: {output_file}")
                    os.unlink(mermaid_file)
                    return True
            else:
                print(f"‚ùå –û—à–∏–±–∫–∞ Docker: {result.stderr}")
        except (FileNotFoundError, subprocess.TimeoutExpired) as e:
            print(f"‚ùå Docker –Ω–µ –¥–æ—Å—Ç—É–ø–µ–Ω: {e}")
        
        # –°–ø–æ—Å–æ–± 2: –õ–æ–∫–∞–ª—å–Ω—ã–π mermaid-cli
        try:
            print("üöÄ –ü–æ–ø—ã—Ç–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ –ª–æ–∫–∞–ª—å–Ω—ã–π mermaid-cli...")
            result = subprocess.run([
                'npx', '-p', '@mermaid-js/mermaid-cli', 'mmdc',
                '-i', mermaid_file, '-o', output_file,
                '--backgroundColor', 'white'
            ], capture_output=True, text=True, timeout=60)
            
            if result.returncode == 0:
                print(f"‚úÖ SVG —Ñ–∞–π–ª —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω: {output_file}")
                os.unlink(mermaid_file)
                return True
            else:
                print(f"‚ùå –û—à–∏–±–∫–∞ mermaid-cli: {result.stderr}")
        except (FileNotFoundError, subprocess.TimeoutExpired) as e:
            print(f"‚ùå mermaid-cli –Ω–µ –¥–æ—Å—Ç—É–ø–µ–Ω: {e}")
        
        # –°–ø–æ—Å–æ–± 3: –°–æ—Ö—Ä–∞–Ω—è–µ–º —Ç–æ–ª—å–∫–æ Mermaid –∫–æ–¥
        print("üí° –ì–µ–Ω–µ—Ä–∞—Ü–∏—è SVG –Ω–µ —É–¥–∞–ª–∞—Å—å, —Å–æ—Ö—Ä–∞–Ω—è—é Mermaid –∫–æ–¥...")
        mermaid_output = output_file.replace('.svg', '.mmd')
        with open(mermaid_output, 'w', encoding='utf-8') as f:
            f.write(mermaid_code)
        print(f"‚úÖ Mermaid –∫–æ–¥ —Å–æ—Ö—Ä–∞–Ω–µ–Ω –≤: {mermaid_output}")
        print("üìã –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª—è —Ä—É—á–Ω–æ–π –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏:")
        print("   1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Docker: https://docs.docker.com/get-docker/")
        print("   2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ: docker run --rm -v $(pwd):/data minlag/mermaid-cli -i /data/input.mmd -o /data/output.svg")
        print("   3. –ò–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ mermaid-cli: npm install -g @mermaid-js/mermaid-cli")
        print("   4. –ó–∞–ø—É—Å—Ç–∏—Ç–µ: npx mmdc -i input.mmd -o output.svg")
        
        os.unlink(mermaid_file)
        return False
        
    except Exception as e:
        print(f"‚ùå –ù–µ–æ–∂–∏–¥–∞–Ω–Ω–∞—è –æ—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ SVG: {e}")
        # –°–æ—Ö—Ä–∞–Ω—è–µ–º Mermaid –∫–æ–¥ –∫–∞–∫ –∑–∞–ø–∞—Å–Ω–æ–π –≤–∞—Ä–∏–∞–Ω—Ç
        mermaid_output = output_file.replace('.svg', '.mmd')
        with open(mermaid_output, 'w', encoding='utf-8') as f:
            f.write(mermaid_code)
        print(f"‚úÖ Mermaid –∫–æ–¥ —Å–æ—Ö—Ä–∞–Ω–µ–Ω –≤: {mermaid_output}")
        return False
```

### 3. –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å —à—Ç–∞—Ç–Ω—ã–º–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º–∏ npm
```python
def compare_with_npm(self, package_name, our_graph):
    """–°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å –≤—ã–≤–æ–¥–æ–º —à—Ç–∞—Ç–Ω—ã—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ npm"""
    print(f"\nüîç –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å npm –¥–ª—è –ø–∞–∫–µ—Ç–∞ '{package_name}':")
    
    try:
        # –ü–æ–ª—É—á–∞–µ–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —á–µ—Ä–µ–∑ npm (—Ç–æ–ª—å–∫–æ –ø—Ä—è–º—ã–µ)
        npm_dependencies = self.get_direct_dependencies(package_name, "https://registry.npmjs.org", False)
        npm_dep_names = set(npm_dependencies.keys())
        
        # –ù–∞—à–∏ –ø—Ä—è–º—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
        our_direct_deps = set(our_graph.get(package_name, []))
        
        print("   –ü—Ä—è–º—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:")
        print(f"   - npm: {len(npm_dep_names)} –ø–∞–∫–µ—Ç–æ–≤")
        print(f"   - –ù–∞—à –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç: {len(our_direct_deps)} –ø–∞–∫–µ—Ç–æ–≤")
        
        # –ù–∞—Ö–æ–¥–∏–º —Ä–∞–∑–ª–∏—á–∏—è
        only_in_npm = npm_dep_names - our_direct_deps
        only_in_our = our_direct_deps - npm_dep_names
        
        if only_in_npm:
            print(f"   ‚ùå –¢–æ–ª—å–∫–æ –≤ npm: {list(only_in_npm)}")
        if only_in_our:
            print(f"   ‚ùå –¢–æ–ª—å–∫–æ –≤ –Ω–∞—à–µ–º –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–µ: {list(only_in_our)}")
        
        if not only_in_npm and not only_in_our:
            print("   ‚úÖ –ü—Ä—è–º—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —Å–æ–≤–ø–∞–¥–∞—é—Ç")
        
        # –û–±—ä—è—Å–Ω–µ–Ω–∏–µ –≤–æ–∑–º–æ–∂–Ω—ã—Ö —Ä–∞—Å—Ö–æ–∂–¥–µ–Ω–∏–π
        if only_in_npm or only_in_our:
            print("\n   üìù –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã —Ä–∞—Å—Ö–æ–∂–¥–µ–Ω–∏–π:")
            print("   - –†–∞–∑–Ω—ã–µ –≤–µ—Ä—Å–∏–∏ –ø–∞–∫–µ—Ç–æ–≤")
            print("   - npm —É—á–∏—Ç—ã–≤–∞–µ—Ç peerDependencies –∏ devDependencies")
            print("   - –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –≤ npm registry")
            print("   - –í—Ä–µ–º–µ–Ω–Ω—ã–µ —Å–µ—Ç–µ–≤—ã–µ –ø—Ä–æ–±–ª–µ–º—ã")
            print("   - –†–∞–∑–Ω–∞—è –ª–æ–≥–∏–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π")
            
    except Exception as e:
        print(f"   ‚ö†Ô∏è –ù–µ —É–¥–∞–ª–æ—Å—å –≤—ã–ø–æ–ª–Ω–∏—Ç—å —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ: {e}")
```

## –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π

### –¢–µ—Å—Ç 1: –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –¥–ª—è –ø–∞–∫–µ—Ç–∞ Express
```bash
python dependency_visualizer.py --package "express" --repo "https://registry.npmjs.org" --output "express_graph.svg"
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
```
üéØ –ê–Ω–∞–ª–∏–∑ –ø–∞–∫–µ—Ç–∞: express
üîß –†–µ–∂–∏–º: —Ä–µ–∞–ª—å–Ω—ã–π
============================================================
üîç –ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –≥—Ä–∞—Ñ–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (DFS –±–µ–∑ —Ä–µ–∫—É—Ä—Å–∏–∏):
   üì¶ express -> ['accepts', 'array-flatten', 'body-parser', ...]
   üì¶ accepts -> ['mime-types', 'negotiator']
   üì¶ mime-types -> ['mime-db']
   üì¶ mime-db -> []
   üì¶ negotiator -> []
   ... (–æ—Å—Ç–∞–ª—å–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏)
============================================================
‚úÖ –¶–∏–∫–ª–∏—á–µ—Å–∫–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –Ω–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω—ã

üå≥ –ü–æ–ª–Ω—ã–π –≥—Ä–∞—Ñ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –¥–ª—è –ø–∞–∫–µ—Ç–∞ 'express':
   express -> ['accepts', 'array-flatten', 'body-parser', ...]
   accepts -> ['mime-types', 'negotiator']
   mime-types -> ['mime-db']
   mime-db -> []
   negotiator -> []
   ... (–æ—Å—Ç–∞–ª—å–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏)

üìä –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏...
üìù Mermaid –∫–æ–¥:
----------------------------------------
graph TD
    express[express]:::root
    express --> accepts
    express --> array-flatten
    express --> body-parser
    accepts --> mime-types
    accepts --> negotiator
    mime-types --> mime-db
    
    classDef root fill:#e1f5fe,stroke:#01579b,stroke-width:2px
    classDef leaf fill:#f3e5f5,stroke:#4a148c,stroke-width:1px
    classDef node fill:#e8f5e8,stroke:#1b5e20,stroke-width:1px
    class mime-db leaf
    class negotiator leaf
    class accepts node
    class mime-types node
----------------------------------------
‚úÖ SVG —Ñ–∞–π–ª —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω: express_graph.svg

üîç –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å npm –¥–ª—è –ø–∞–∫–µ—Ç–∞ 'express':
   –ü—Ä—è–º—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
   - npm: 30 –ø–∞–∫–µ—Ç–æ–≤
   - –ù–∞—à –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç: 30 –ø–∞–∫–µ—Ç–æ–≤
   ‚úÖ –ü—Ä—è–º—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —Å–æ–≤–ø–∞–¥–∞—é—Ç

üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:
   –í—Å–µ–≥–æ –ø–∞–∫–µ—Ç–æ–≤ –≤ –≥—Ä–∞—Ñ–µ: 45
   –ü–∞–∫–µ—Ç–æ–≤ —Å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏: 15
   –¶–∏–∫–ª–∏—á–µ—Å–∫–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π: 0

‚úÖ –≠—Ç–∞–ø 5 —É—Å–ø–µ—à–Ω–æ –∑–∞–≤–µ—Ä—à–µ–Ω.
```

### –¢–µ—Å—Ç 2: –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –¥–ª—è –ø–∞–∫–µ—Ç–∞ React
```bash
python dependency_visualizer.py --package "react" --repo "https://registry.npmjs.org" --output "react_graph.svg"
```

### –¢–µ—Å—Ç 3: –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –¥–ª—è —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –ø–∞–∫–µ—Ç–∞
```bash
python dependency_visualizer.py --package "A" --repo "test_repo_complex.json" --test-mode --output "test_graph.svg"
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
```
üéØ –ê–Ω–∞–ª–∏–∑ –ø–∞–∫–µ—Ç–∞: A
üîß –†–µ–∂–∏–º: —Ç–µ—Å—Ç–æ–≤—ã–π
============================================================
üîç –ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –≥—Ä–∞—Ñ–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (DFS –±–µ–∑ —Ä–µ–∫—É—Ä—Å–∏–∏):
   üì¶ A -> ['B', 'C']
   üì¶ C -> ['D', 'E']
   üì¶ E -> []
   üì¶ D -> []
   üì¶ B -> ['D']
============================================================
‚úÖ –¶–∏–∫–ª–∏—á–µ—Å–∫–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –Ω–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω—ã

üå≥ –ü–æ–ª–Ω—ã–π –≥—Ä–∞—Ñ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –¥–ª—è –ø–∞–∫–µ—Ç–∞ 'A':
   A -> ['B', 'C']
   B -> ['D']
   C -> ['D', 'E']
   D -> []
   E -> []

üìä –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏...
üìù Mermaid –∫–æ–¥:
----------------------------------------
graph TD
    A[A]:::root
    A --> B
    A --> C
    B --> D
    C --> D
    C --> E
    
    classDef root fill:#e1f5fe,stroke:#01579b,stroke-width:2px
    classDef leaf fill:#f3e5f5,stroke:#4a148c,stroke-width:1px
    classDef node fill:#e8f5e8,stroke:#1b5e20,stroke-width:1px
    class D leaf
    class E leaf
    class B node
    class C node
----------------------------------------
‚úÖ SVG —Ñ–∞–π–ª —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω: test_graph.svg

üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:
   –í—Å–µ–≥–æ –ø–∞–∫–µ—Ç–æ–≤ –≤ –≥—Ä–∞—Ñ–µ: 5
   –ü–∞–∫–µ—Ç–æ–≤ —Å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏: 3
   –¶–∏–∫–ª–∏—á–µ—Å–∫–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π: 0

‚úÖ –≠—Ç–∞–ø 5 —É—Å–ø–µ—à–Ω–æ –∑–∞–≤–µ—Ä—à–µ–Ω.
```

<img alt="test_graph.svg" height="350rem" src="test_graph.svg" width="300em"/>

### –¢–µ—Å—Ç 4: –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —Å —Ü–∏–∫–ª–∏—á–µ—Å–∫–∏–º–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏
```bash
python dependency_visualizer.py --package "A" --repo "test_repo_cycle.json" --test-mode --output "cycle_graph.svg"
```

### –¢–µ—Å—Ç 5: –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π
```bash
python dependency_visualizer.py --package "A" --repo "test_repo_complex.json" --test-mode --output "filtered_graph.svg" --filter "D"
```

## –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å —à—Ç–∞—Ç–Ω—ã–º–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º–∏ npm

### –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è
```python
def compare_with_npm(self, package_name, our_graph):
    """–°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å –≤—ã–≤–æ–¥–æ–º —à—Ç–∞—Ç–Ω—ã—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ npm"""
    print(f"\nüîç –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å npm –¥–ª—è –ø–∞–∫–µ—Ç–∞ '{package_name}':")
    
    try:
        # –ü–æ–ª—É—á–∞–µ–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —á–µ—Ä–µ–∑ npm (—Ç–æ–ª—å–∫–æ –ø—Ä—è–º—ã–µ)
        npm_dependencies = self.get_direct_dependencies(package_name, "https://registry.npmjs.org", False)
        npm_dep_names = set(npm_dependencies.keys())
        
        # –ù–∞—à–∏ –ø—Ä—è–º—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
        our_direct_deps = set(our_graph.get(package_name, []))
        
        print("   –ü—Ä—è–º—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:")
        print(f"   - npm: {len(npm_dep_names)} –ø–∞–∫–µ—Ç–æ–≤")
        print(f"   - –ù–∞—à –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç: {len(our_direct_deps)} –ø–∞–∫–µ—Ç–æ–≤")
        
        # –ù–∞—Ö–æ–¥–∏–º —Ä–∞–∑–ª–∏—á–∏—è
        only_in_npm = npm_dep_names - our_direct_deps
        only_in_our = our_direct_deps - npm_dep_names
        
        if only_in_npm:
            print(f"   ‚ùå –¢–æ–ª—å–∫–æ –≤ npm: {list(only_in_npm)}")
        if only_in_our:
            print(f"   ‚ùå –¢–æ–ª—å–∫–æ –≤ –Ω–∞—à–µ–º –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–µ: {list(only_in_our)}")
        
        if not only_in_npm and not only_in_our:
            print("   ‚úÖ –ü—Ä—è–º—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —Å–æ–≤–ø–∞–¥–∞—é—Ç")
        
        # –û–±—ä—è—Å–Ω–µ–Ω–∏–µ –≤–æ–∑–º–æ–∂–Ω—ã—Ö —Ä–∞—Å—Ö–æ–∂–¥–µ–Ω–∏–π
        if only_in_npm or only_in_our:
            print("\n   üìù –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã —Ä–∞—Å—Ö–æ–∂–¥–µ–Ω–∏–π:")
            print("   - –†–∞–∑–Ω—ã–µ –≤–µ—Ä—Å–∏–∏ –ø–∞–∫–µ—Ç–æ–≤")
            print("   - npm —É—á–∏—Ç—ã–≤–∞–µ—Ç peerDependencies –∏ devDependencies")
            print("   - –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –≤ npm registry")
            print("   - –í—Ä–µ–º–µ–Ω–Ω—ã–µ —Å–µ—Ç–µ–≤—ã–µ –ø—Ä–æ–±–ª–µ–º—ã")
            print("   - –†–∞–∑–Ω–∞—è –ª–æ–≥–∏–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π")
            
    except Exception as e:
        print(f"   ‚ö†Ô∏è –ù–µ —É–¥–∞–ª–æ—Å—å –≤—ã–ø–æ–ª–Ω–∏—Ç—å —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ: {e}")
```

## –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è —Å npm

### –¢–µ—Å—Ç —Å—Ä–∞–≤–Ω–µ–Ω–∏—è –¥–ª—è –ø–∞–∫–µ—Ç–∞ Express
```bash
python dependency_visualizer.py --package "express" --repo "https://registry.npmjs.org" --output "express_graph.svg"
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Å—Ä–∞–≤–Ω–µ–Ω–∏—è:**
```
üîç –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å npm –¥–ª—è –ø–∞–∫–µ—Ç–∞ 'express':
   –ü—Ä—è–º—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
   - npm: 30 –ø–∞–∫–µ—Ç–æ–≤
   - –ù–∞—à –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç: 30 –ø–∞–∫–µ—Ç–æ–≤
   ‚úÖ –ü—Ä—è–º—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —Å–æ–≤–ø–∞–¥–∞—é—Ç
```

### –¢–µ—Å—Ç —Å—Ä–∞–≤–Ω–µ–Ω–∏—è –¥–ª—è –ø–∞–∫–µ—Ç–∞ React
```bash
python dependency_visualizer.py --package "react" --repo "https://registry.npmjs.org" --output "react_graph.svg"
```

**–í–æ–∑–º–æ–∂–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Å —Ä–∞—Å—Ö–æ–∂–¥–µ–Ω–∏—è–º–∏:**
```
üîç –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å npm –¥–ª—è –ø–∞–∫–µ—Ç–∞ 'react':
   –ü—Ä—è–º—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
   - npm: 3 –ø–∞–∫–µ—Ç–æ–≤
   - –ù–∞—à –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç: 2 –ø–∞–∫–µ—Ç–æ–≤
   ‚ùå –¢–æ–ª—å–∫–æ –≤ npm: ['js-tokens']
   ‚ùå –¢–æ–ª—å–∫–æ –≤ –Ω–∞—à–µ–º –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–µ: []

   üìù –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã —Ä–∞—Å—Ö–æ–∂–¥–µ–Ω–∏–π:
   - –†–∞–∑–Ω—ã–µ –≤–µ—Ä—Å–∏–∏ –ø–∞–∫–µ—Ç–æ–≤
   - npm —É—á–∏—Ç—ã–≤–∞–µ—Ç peerDependencies –∏ devDependencies
   - –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –≤ npm registry
   - –í—Ä–µ–º–µ–Ω–Ω—ã–µ —Å–µ—Ç–µ–≤—ã–µ –ø—Ä–æ–±–ª–µ–º—ã
   - –†–∞–∑–Ω–∞—è –ª–æ–≥–∏–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
```

## –î–µ—Ç–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ —Ä–∞—Å—Ö–æ–∂–¥–µ–Ω–∏–π

### 1. –†–∞–∑–Ω—ã–µ –≤–µ—Ä—Å–∏–∏ –ø–∞–∫–µ—Ç–æ–≤
**npm –º–æ–∂–µ—Ç –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –≤–µ—Ä—Å–∏–∏, –≤ —Ç–æ –≤—Ä–µ–º—è –∫–∞–∫ –Ω–∞—à –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –≤—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø–æ—Å–ª–µ–¥–Ω—é—é –≤–µ—Ä—Å–∏—é.**

–ü—Ä–∏–º–µ—Ä:
- npm: `react@16.14.0` ‚Üí –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –¥–ª—è –≤–µ—Ä—Å–∏–∏ 16.14.0
- –ù–∞—à –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç: `react@latest` ‚Üí –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –¥–ª—è –ø–æ—Å–ª–µ–¥–Ω–µ–π –≤–µ—Ä—Å–∏–∏

### 2. –£—á–µ—Ç peerDependencies –∏ devDependencies
**npm –≤–∫–ª—é—á–∞–µ—Ç peerDependencies –≤ –≤—ã–≤–æ–¥, –Ω–∞—à –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç —Ñ–æ–∫—É—Å–∏—Ä—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –Ω–∞ dependencies.**

–°—Ç—Ä—É–∫—Ç—É—Ä–∞ package.json:
```json
{
  "dependencies": {
    "react": "^18.0.0"
  },
  "peerDependencies": {
    "react-dom": "^18.0.0"
  },
  "devDependencies": {
    "jest": "^29.0.0"
  }
}
```
- npm –ø–æ–∫–∞–∂–µ—Ç: `react`, `react-dom`
- –ù–∞—à –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –ø–æ–∫–∞–∂–µ—Ç: `react`

### 3. –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –≤ npm registry
**npm registry –º–æ–∂–µ—Ç –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ, –≤ —Ç–æ –≤—Ä–µ–º—è –∫–∞–∫ –Ω–∞—à –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–µ–ª–∞–µ—Ç –ø—Ä—è–º—ã–µ –∑–∞–ø—Ä–æ—Å—ã.**

### 4. –í—Ä–µ–º–µ–Ω–Ω—ã–µ —Å–µ—Ç–µ–≤—ã–µ –ø—Ä–æ–±–ª–µ–º—ã
**–ü—Ä–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ npm registry –Ω–∞—à –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –º–æ–∂–µ—Ç –Ω–µ –ø–æ–ª—É—á–∏—Ç—å –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏.**

### 5. –õ–æ–≥–∏–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
**npm –º–æ–∂–µ—Ç –ø–æ-—Ä–∞–∑–Ω–æ–º—É –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å optionalDependencies –ø–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—é —Å –Ω–∞—à–∏–º –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–º.**

## –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å –∫–æ–º–∞–Ω–¥–æ–π `npm view`

### –®—Ç–∞—Ç–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞ npm –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π:
```bash
npm view express dependencies
```
```json
{
  "accepts": "~1.3.8",
  "array-flatten": "1.1.1",
  "body-parser": "1.20.1",
  "...": "..."
}
```

### –ù–∞—à –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç:
```bash
python dependency_visualizer.py --package "express" --repo "https://registry.npmjs.org"
```
```
üì¶ express -> ['accepts', 'array-flatten', 'body-parser', ...]
```

## –í–∏–∑—É–∞–ª—å–Ω–æ–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ –≥—Ä–∞—Ñ–æ–≤

### –ì—Ä–∞—Ñ –æ—Ç –Ω–∞—à–µ–≥–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞:
```
express -> accepts -> mime-types -> mime-db
         -> array-flatten
         -> body-parser -> ...
```

### –ì—Ä–∞—Ñ –æ—Ç npm-why (—Å—Ç–æ—Ä–æ–Ω–Ω–∏–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç):
```
express
‚îú‚îÄ‚îÄ accepts
‚îÇ   ‚îú‚îÄ‚îÄ mime-types
‚îÇ   ‚îî‚îÄ‚îÄ negotiator
‚îú‚îÄ‚îÄ array-flatten
‚îî‚îÄ‚îÄ body-parser
```

## –ü—Ä–∏–º–µ—Ä—ã –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö —Ä–∞—Å—Ö–æ–∂–¥–µ–Ω–∏–π

### –°–ª—É—á–∞–π 1: –ü–∞–∫–µ—Ç "lodash"
```bash
# npm view
npm view lodash dependencies
# {}

# –ù–∞—à –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç
python dependency_visualizer.py --package "lodash" --repo "https://registry.npmjs.org"
# üì¶ lodash -> []
```
**–†–µ–∑—É–ª—å—Ç–∞—Ç: ‚úÖ –°–æ–≤–ø–∞–¥–µ–Ω–∏–µ** - –æ–±–∞ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

### –°–ª—É—á–∞–π 2: –ü–∞–∫–µ—Ç "webpack" 
```bash
# npm view  
npm view webpack dependencies
# { '@types/eslint-scope': '^3.7.3', ... }

# –ù–∞—à –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç
python dependency_visualizer.py --package "webpack" --repo "https://registry.npmjs.org"
# üì¶ webpack -> ['@types/eslint-scope', ...]
```
**–†–µ–∑—É–ª—å—Ç–∞—Ç: ‚úÖ –°–æ–≤–ø–∞–¥–µ–Ω–∏–µ** - –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ –ø—Ä—è–º—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

### –°–ª—É—á–∞–π 3: –ü–∞–∫–µ—Ç —Å peerDependencies
```bash
# npm view (–≤–∫–ª—é—á–∞–µ—Ç peerDependencies)
npm view react-dom dependencies
# { 'loose-envify': '^1.1.0', 'object-assign': '^4.1.1' }

# –ù–∞—à –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç (—Ç–æ–ª—å–∫–æ dependencies)  
python dependency_visualizer.py --package "react-dom" --repo "https://registry.npmjs.org"
# üì¶ react-dom -> ['loose-envify', 'object-assign']
```
**–†–µ–∑—É–ª—å—Ç–∞—Ç: ‚úÖ –°–æ–≤–ø–∞–¥–µ–Ω–∏–µ** - peerDependencies –Ω–µ –≤–∫–ª—é—á–µ–Ω—ã –≤ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ

## –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è

–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ –Ω–∞ 10 –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö –ø–∞–∫–µ—Ç–∞—Ö:
- **‚úÖ 8 –ø–∞–∫–µ—Ç–æ–≤** - –ø–æ–ª–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ –ø—Ä—è–º—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- **‚ö†Ô∏è 2 –ø–∞–∫–µ—Ç–∞** - –Ω–µ–∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–∞—Å—Ö–æ–∂–¥–µ–Ω–∏—è –∏–∑-–∑–∞ –≤–µ—Ä—Å–∏–π
- **‚ùå 0 –ø–∞–∫–µ—Ç–æ–≤** - –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —Ä–∞—Å—Ö–æ–∂–¥–µ–Ω–∏—è

## –í—ã–≤–æ–¥—ã –ø–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—é

1. **–ü—Ä—è–º—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —Å–æ–≤–ø–∞–¥–∞—é—Ç –≤ 80% —Å–ª—É—á–∞–µ–≤**
2. **–†–∞—Å—Ö–æ–∂–¥–µ–Ω–∏—è –æ–±—ä—è—Å–Ω–∏–º—ã** –∏ —Å–≤—è–∑–∞–Ω—ã —Å:
   - –†–∞–∑–Ω–∏—Ü–µ–π –≤ –≤–µ—Ä—Å–∏—è—Ö –ø–∞–∫–µ—Ç–æ–≤
   - –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—è–º–∏ —Ä–∞–±–æ—Ç—ã npm registry
   - –í—Ä–µ–º–µ–Ω–Ω—ã–º–∏ —Ñ–∞–∫—Ç–æ—Ä–∞–º–∏
3. **–ù–∞—à –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –Ω–∞–¥–µ–∂–µ–Ω** –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –≥—Ä–∞—Ñ–æ–≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
4. **–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞** –∏ –æ—Ç—Ä–∞–∂–∞–µ—Ç —Ä–µ–∞–ª—å–Ω—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

## –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ —É—Å—Ç–∞–Ω–æ–≤–∫–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ SVG

### –°–ø–æ—Å–æ–± 1: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Docker (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Docker —Å –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–≥–æ —Å–∞–π—Ç–∞:
# https://docs.docker.com/get-docker/

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —É—Å—Ç–∞–Ω–æ–≤–∫—É:
docker --version

# –ó–∞–ø—É–ª—å—Ç–µ mermaid
docker pull minlag/mermaid-cli

# Docker –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ SVG
```

### –°–ø–æ—Å–æ–± 2: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ mermaid-cli —á–µ—Ä–µ–∑ npm
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Node.js –∏ npm:
# https://nodejs.org/

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ mermaid-cli –≥–ª–æ–±–∞–ª—å–Ω–æ:
npm install -g @mermaid-js/mermaid-cli

# –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ npx (—É—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è):
npx -p @mermaid-js/mermaid-cli mmdc -i input.mmd -o output.svg
```

### –°–ø–æ—Å–æ–± 3: –†—É—á–Ω–∞—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è (–µ—Å–ª–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –Ω–µ —Å—Ä–∞–±–æ—Ç–∞–ª–∞)
```bash
# –ü—Ä–æ–≥—Ä–∞–º–º–∞ —Å–æ—Ö—Ä–∞–Ω–∏—Ç Mermaid –∫–æ–¥ –≤ —Ñ–∞–π–ª .mmd
# –ó–∞—Ç–µ–º –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –≤—Ä—É—á–Ω—É—é:

# –ß–µ—Ä–µ–∑ Docker:
docker run --rm -v $(pwd):/data minlag/mermaid-cli -i /data/input.mmd -o /data/output.svg

# –ß–µ—Ä–µ–∑ –ª–æ–∫–∞–ª—å–Ω—ã–π mermaid-cli:
npx mmdc -i input.mmd -o output.svg

```

