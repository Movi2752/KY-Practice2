## –≠—Ç–∞–ø 4: –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏

### 1. –†–µ–∂–∏–º –≤—ã–≤–æ–¥–∞ –æ–±—Ä–∞—Ç–Ω—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (—Ç–æ–ª—å–∫–æ –¥–ª—è —ç—Ç–æ–≥–æ —ç—Ç–∞–ø–∞)
```python
def find_reverse_dependencies(self, target_package, repo_url, test_mode=False, filter_substring=""):
    """–ü–æ–∏—Å–∫ –æ–±—Ä–∞—Ç–Ω—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π —Å –ø–æ–º–æ—â—å—é DFS"""
    print(f"üîç –ü–æ–∏—Å–∫ –æ–±—Ä–∞—Ç–Ω—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –¥–ª—è –ø–∞–∫–µ—Ç–∞ '{target_package}':")
    
    # –ü–æ–ª—É—á–∞–µ–º –≤—Å–µ –ø–∞–∫–µ—Ç—ã –∏–∑ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
    if test_mode:
        try:
            with open(repo_url, 'r', encoding='utf-8') as f:
                data = json.load(f)
        except Exception as e:
            print(f"‚ùå –û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ —Ñ–∞–π–ª–∞: {e}")
            return []
        
        all_packages = []
        if isinstance(data, dict):
            if 'name' in data and 'dependencies' in data:
                all_packages = [data['name']]
            else:
                all_packages = list(data.keys())
        elif isinstance(data, list):
            all_packages = [pkg.get('name') for pkg in data if pkg.get('name')]
    else:
        print("   ‚ö†Ô∏è –í —Ä–µ–∞–ª—å–Ω–æ–º —Ä–µ–∂–∏–º–µ –ø–æ–∏—Å–∫ –æ–±—Ä–∞—Ç–Ω—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –æ–≥—Ä–∞–Ω–∏—á–µ–Ω")
        popular_packages = ["express", "react", "lodash", "axios", "webpack"]
        all_packages = popular_packages
    
    reverse_deps = []
    
    # –î–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–∞–∫–µ—Ç–∞ –ø—Ä–æ–≤–µ—Ä—è–µ–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç target_package
    for package in all_packages:
        if package == target_package:
            continue
                
        if self.should_filter_package(package, filter_substring):
            continue
        
        # –ù–∞—Ö–æ–¥–∏–º –≤—Å–µ –ø—É—Ç–∏ –æ—Ç package –¥–æ target_package
        paths = self.find_all_paths_to_target(package, target_package, repo_url, test_mode, filter_substring)
        
        for path in paths:
            if len(path) == 2:
                # –ü—Ä—è–º–∞—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å
                reverse_deps.append((package, "–ø—Ä—è–º–∞—è"))
                print(f"   ‚úÖ {package} -> {target_package} (–ø—Ä—è–º–∞—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å)")
            else:
                # –¢—Ä–∞–Ω–∑–∏—Ç–∏–≤–Ω–∞—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å
                intermediate = path[1]  # –ü–µ—Ä–≤—ã–π –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–π –ø–∞–∫–µ—Ç
                reverse_deps.append((package, f"—Ç—Ä–∞–Ω–∑–∏—Ç–∏–≤–Ω–∞—è —á–µ—Ä–µ–∑ {intermediate}"))
                path_str = " -> ".join(path)
                print(f"   üîÑ {path_str} (—Ç—Ä–∞–Ω–∑–∏—Ç–∏–≤–Ω–∞—è)")
    
    return reverse_deps
```

### 2. –ü–æ–∏—Å–∫ –≤—Å–µ—Ö –ø—É—Ç–µ–π –¥–æ —Ü–µ–ª–µ–≤–æ–≥–æ –ø–∞–∫–µ—Ç–∞
```python
def find_all_paths_to_target(self, start_package, target_package, repo_url, test_mode=False, filter_substring=""):
    """–ù–∞—Ö–æ–¥–∏—Ç –≤—Å–µ –ø—É—Ç–∏ –æ—Ç start_package –¥–æ target_package"""
    if start_package == target_package:
        return []
        
    stack = [(start_package, [start_package])]
    paths = []
    
    while stack:
        current_package, path = stack.pop()
        
        # –ü—Ä–æ–ø—É—Å–∫–∞–µ–º –ø–∞–∫–µ—Ç—ã –ø–æ —Ñ–∏–ª—å—Ç—Ä—É
        if self.should_filter_package(current_package, filter_substring):
            continue
        
        # –ü–æ–ª—É—á–∞–µ–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —Ç–µ–∫—É—â–µ–≥–æ –ø–∞–∫–µ—Ç–∞
        dependencies = self.get_direct_dependencies(current_package, repo_url, test_mode)
        dependency_names = list(dependencies.keys())
        
        for dep in dependency_names:
            # –ü—Ä–æ–ø—É—Å–∫–∞–µ–º –ø–æ —Ñ–∏–ª—å—Ç—Ä—É
            if self.should_filter_package(dep, filter_substring):
                continue
                
            if dep == target_package:
                # –ù–∞—à–ª–∏ –ø—É—Ç—å –∫ —Ü–µ–ª–µ–≤–æ–º—É –ø–∞–∫–µ—Ç—É
                paths.append(path + [dep])
            elif dep not in path:  # –ò–∑–±–µ–≥–∞–µ–º —Ü–∏–∫–ª–æ–≤
                stack.append((dep, path + [dep]))
    
    return paths
```

### 3. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∞–ª–≥–æ—Ä–∏—Ç–º–∞ –æ–±—Ö–æ–¥–∞ –∏–∑ –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ —ç—Ç–∞–ø–∞
```python
# –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∞–ª–≥–æ—Ä–∏—Ç–º DFS –¥–ª—è –ø–æ–∏—Å–∫–∞ –≤—Å–µ—Ö –ø—É—Ç–µ–π
stack = [(start_package, [start_package])]
paths = []

while stack:
    current_package, path = stack.pop()
    # ... –ª–æ–≥–∏–∫–∞ –æ–±—Ö–æ–¥–∞ –≥—Ä–∞—Ñ–∞
```

### 4. –í—ã–≤–æ–¥ –æ–±—Ä–∞—Ç–Ω—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
```python
def print_reverse_dependencies(self, target_package, reverse_deps):
    """–í—ã–≤–æ–¥ –æ–±—Ä–∞—Ç–Ω—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π"""
    if not reverse_deps:
        print(f"üì≠ –ü–∞–∫–µ—Ç '{target_package}' –Ω–µ –∏–º–µ–µ—Ç –æ–±—Ä–∞—Ç–Ω—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π")
        return
    
    print(f"üîÑ –û–±—Ä–∞—Ç–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –ø–∞–∫–µ—Ç–∞ '{target_package}':")
    for package, dep_type in reverse_deps:
        print(f"   - {package} ({dep_type})")
```

## –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π

### –¢–µ—Å—Ç 1: –û–±—Ä–∞—Ç–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –≤ —Ç–µ—Å—Ç–æ–≤–æ–º —Ä–µ–∂–∏–º–µ

```bash
python dependency_visualizer.py --package "UTILS" --repo "test_reverse_deps.json" --test-mode --reverse --output "graph.svg"
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
```
üéØ –ê–Ω–∞–ª–∏–∑ –ø–∞–∫–µ—Ç–∞: UTILS
üîß –†–µ–∂–∏–º: —Ç–µ—Å—Ç–æ–≤—ã–π
üîÑ –†–µ–∂–∏–º: –æ–±—Ä–∞—Ç–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
============================================================
üîç –ü–æ–∏—Å–∫ –æ–±—Ä–∞—Ç–Ω—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –¥–ª—è –ø–∞–∫–µ—Ç–∞ 'UTILS':
   ‚úÖ UI -> UTILS (–ø—Ä—è–º–∞—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å)
   ‚úÖ API -> UTILS (–ø—Ä—è–º–∞—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å)
   üîÑ APP -> UI -> UTILS (—Ç—Ä–∞–Ω–∑–∏—Ç–∏–≤–Ω–∞—è)
   üîÑ APP -> API -> UTILS (—Ç—Ä–∞–Ω–∑–∏—Ç–∏–≤–Ω–∞—è)
============================================================
üîÑ –û–±—Ä–∞—Ç–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –ø–∞–∫–µ—Ç–∞ 'UTILS':
   - UI (–ø—Ä—è–º–∞—è)
   - API (–ø—Ä—è–º–∞—è)
   - APP (—Ç—Ä–∞–Ω–∑–∏—Ç–∏–≤–Ω–∞—è —á–µ—Ä–µ–∑ UI)
   - APP (—Ç—Ä–∞–Ω–∑–∏—Ç–∏–≤–Ω–∞—è —á–µ—Ä–µ–∑ API)

‚úÖ –≠—Ç–∞–ø 4 —É—Å–ø–µ—à–Ω–æ –∑–∞–≤–µ—Ä—à–µ–Ω.
```

### –¢–µ—Å—Ç 2: –û–±—Ä–∞—Ç–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π

```bash
python dependency_visualizer.py --package "UTILS" --repo "test_reverse_deps.json" --test-mode --reverse --filter "APP" --output "graph.svg"
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
```
üéØ –ê–Ω–∞–ª–∏–∑ –ø–∞–∫–µ—Ç–∞: UTILS
üîß –†–µ–∂–∏–º: —Ç–µ—Å—Ç–æ–≤—ã–π
üö´ –§–∏–ª—å—Ç—Ä: 'APP'
üîÑ –†–µ–∂–∏–º: –æ–±—Ä–∞—Ç–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
============================================================
üîç –ü–æ–∏—Å–∫ –æ–±—Ä–∞—Ç–Ω—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –¥–ª—è –ø–∞–∫–µ—Ç–∞ 'UTILS':
   ‚úÖ UI -> UTILS (–ø—Ä—è–º–∞—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å)
   ‚úÖ API -> UTILS (–ø—Ä—è–º–∞—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å)
============================================================
üîÑ –û–±—Ä–∞—Ç–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –ø–∞–∫–µ—Ç–∞ 'UTILS':
   - UI (–ø—Ä—è–º–∞—è)
   - API (–ø—Ä—è–º–∞—è)

‚úÖ –≠—Ç–∞–ø 4 —É—Å–ø–µ—à–Ω–æ –∑–∞–≤–µ—Ä—à–µ–Ω.
```

### –¢–µ—Å—Ç 3: –û–±—Ä–∞—Ç–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –¥–ª—è –ø–∞–∫–µ—Ç–∞ LOGGER

```bash
python dependency_visualizer.py --package "LOGGER" --repo "test_reverse_deps.json" --test-mode --reverse --output "graph.svg"
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
```
üéØ –ê–Ω–∞–ª–∏–∑ –ø–∞–∫–µ—Ç–∞: LOGGER
üîß –†–µ–∂–∏–º: —Ç–µ—Å—Ç–æ–≤—ã–π
üîÑ –†–µ–∂–∏–º: –æ–±—Ä–∞—Ç–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
============================================================
üîç –ü–æ–∏—Å–∫ –æ–±—Ä–∞—Ç–Ω—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –¥–ª—è –ø–∞–∫–µ—Ç–∞ 'LOGGER':
   ‚úÖ UTILS -> LOGGER (–ø—Ä—è–º–∞—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å)
   üîÑ UI -> UTILS -> LOGGER (—Ç—Ä–∞–Ω–∑–∏—Ç–∏–≤–Ω–∞—è)
   üîÑ API -> UTILS -> LOGGER (—Ç—Ä–∞–Ω–∑–∏—Ç–∏–≤–Ω–∞—è)
   üîÑ APP -> UI -> UTILS -> LOGGER (—Ç—Ä–∞–Ω–∑–∏—Ç–∏–≤–Ω–∞—è)
   üîÑ APP -> API -> UTILS -> LOGGER (—Ç—Ä–∞–Ω–∑–∏—Ç–∏–≤–Ω–∞—è)
============================================================
üîÑ –û–±—Ä–∞—Ç–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –ø–∞–∫–µ—Ç–∞ 'LOGGER':
   - UTILS (–ø—Ä—è–º–∞—è)
   - UI (—Ç—Ä–∞–Ω–∑–∏—Ç–∏–≤–Ω–∞—è —á–µ—Ä–µ–∑ UTILS)
   - API (—Ç—Ä–∞–Ω–∑–∏—Ç–∏–≤–Ω–∞—è —á–µ—Ä–µ–∑ UTILS)
   - APP (—Ç—Ä–∞–Ω–∑–∏—Ç–∏–≤–Ω–∞—è —á–µ—Ä–µ–∑ UI)
   - APP (—Ç—Ä–∞–Ω–∑–∏—Ç–∏–≤–Ω–∞—è —á–µ—Ä–µ–∑ API)

‚úÖ –≠—Ç–∞–ø 4 —É—Å–ø–µ—à–Ω–æ –∑–∞–≤–µ—Ä—à–µ–Ω.
```

### –¢–µ—Å—Ç 4: –û–±—Ä–∞—Ç–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –¥–ª—è –ø–∞–∫–µ—Ç–∞ THEME

```bash
python dependency_visualizer.py --package "THEME" --repo "test_reverse_deps.json" --test-mode --reverse --output "graph.svg"
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
```
üéØ –ê–Ω–∞–ª–∏–∑ –ø–∞–∫–µ—Ç–∞: THEME
üîß –†–µ–∂–∏–º: —Ç–µ—Å—Ç–æ–≤—ã–π
üîÑ –†–µ–∂–∏–º: –æ–±—Ä–∞—Ç–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
============================================================
üîç –ü–æ–∏—Å–∫ –æ–±—Ä–∞—Ç–Ω—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –¥–ª—è –ø–∞–∫–µ—Ç–∞ 'THEME':
   ‚úÖ UI -> THEME (–ø—Ä—è–º–∞—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å)
   üîÑ APP -> UI -> THEME (—Ç—Ä–∞–Ω–∑–∏—Ç–∏–≤–Ω–∞—è)
============================================================
üîÑ –û–±—Ä–∞—Ç–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –ø–∞–∫–µ—Ç–∞ 'THEME':
   - UI (–ø—Ä—è–º–∞—è)
   - APP (—Ç—Ä–∞–Ω–∑–∏—Ç–∏–≤–Ω–∞—è —á–µ—Ä–µ–∑ UI)

‚úÖ –≠—Ç–∞–ø 4 —É—Å–ø–µ—à–Ω–æ –∑–∞–≤–µ—Ä—à–µ–Ω.
```

### –¢–µ—Å—Ç 5: –ü–∞–∫–µ—Ç –±–µ–∑ –æ–±—Ä–∞—Ç–Ω—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
python dependency_visualizer.py --package "NETWORK" --repo "test_reverse_deps.json" --test-mode --reverse --output "graph.svg"
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
```
üéØ –ê–Ω–∞–ª–∏–∑ –ø–∞–∫–µ—Ç–∞: NETWORK
üîß –†–µ–∂–∏–º: —Ç–µ—Å—Ç–æ–≤—ã–π
üîÑ –†–µ–∂–∏–º: –æ–±—Ä–∞—Ç–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
============================================================
üîç –ü–æ–∏—Å–∫ –æ–±—Ä–∞—Ç–Ω—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –¥–ª—è –ø–∞–∫–µ—Ç–∞ 'NETWORK':
   ‚úÖ API -> NETWORK (–ø—Ä—è–º–∞—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å)
   üîÑ APP -> API -> NETWORK (—Ç—Ä–∞–Ω–∑–∏—Ç–∏–≤–Ω–∞—è)
============================================================
üîÑ –û–±—Ä–∞—Ç–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –ø–∞–∫–µ—Ç–∞ 'NETWORK':
   - API (–ø—Ä—è–º–∞—è)
   - APP (—Ç—Ä–∞–Ω–∑–∏—Ç–∏–≤–Ω–∞—è —á–µ—Ä–µ–∑ API)

‚úÖ –≠—Ç–∞–ø 4 —É—Å–ø–µ—à–Ω–æ –∑–∞–≤–µ—Ä—à–µ–Ω.
```

### –¢–µ—Å—Ç 6: –û–±—Ä–∞—Ç–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º —Ä–µ–∂–∏–º–µ

```bash
python dependency_visualizer.py --package "express" --repo "https://registry.npmjs.org" --reverse --output "graph.svg"
```